<core:FragmentDefinition 
    xmlns="sap.m" 
    xmlns:core="sap.ui.core" 
    xmlns:l="sap.ui.layout"
    xmlns:f="sap.f" 
    xmlns:form="sap.ui.layout.form" >
        <Dialog id="CreateSalesOrderDialog" title="Add XML Fragment" >
            <content>
                <l:VerticalLayout class="sapUiContentPadding" width="100%">
                    <l:HorizontalLayout>
                        <Label text="Control Type" />
                        <ToolbarSpacer width="3.4rem" />
                        <Label text="{/selectedControlName}" />
                    </l:HorizontalLayout>
                    <l:HorizontalLayout>
                        <Label text="Target Aggregation" />
                        <ToolbarSpacer width="1rem" />
                        <ComboBox
                            change="onAggregationChanged"
                            selectedKey="{/selectedAggregation/key}"
                            items="{
                                path: '/targetAggregation',
                                sorter: { path: 'text' }
                            }">
                            <core:Item key="{key}" text="{value}" />
                        </ComboBox>
                    </l:HorizontalLayout>
                    <l:HorizontalLayout>
                        <Label text="Index" />
                        <ToolbarSpacer width="6rem" />
                        <ComboBox
                            change="onIndexChanged"
                            selectedKey='{/selectedIndex}'
                            items="{
                                path: '/index',
                                sorter: { path: 'text' }
                            }">
                            <core:Item key="{key}" text="{value}" />
                        </ComboBox>
                    </l:HorizontalLayout>
                    <l:HorizontalLayout>
                        <Label text="Fragment Name" />
                        <ToolbarSpacer width="2rem" />
                        <Input 
                            width="25rem" 
                            description=".fragment.xml" 
                            value="{/newFragmentName}" 
                            liveChange="onFragmentNameInputChange" />
                    </l:HorizontalLayout>
                </l:VerticalLayout>
            </content>
            <beginButton>
                <Button 
                    id="createDialogBtn" 
                    text="Create"
                    press="onCreateBtnPress"
                    enabled="false"
                    type="Emphasized"/>
            </beginButton>
            <endButton>
                <Button 
                    id="closeDialogBtn" 
                    text="Cancel"
                    press="closeDialog"
                    type="Reject"/>
            </endButton>
        </Dialog>
</core:FragmentDefinition>