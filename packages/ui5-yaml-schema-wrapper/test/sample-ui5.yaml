# yaml-language-server: $schema=../schema/ux-ui5-tooling-schema.json

specVersion: '3.0'
metadata:
  name: test-app
type: application
server:
  customMiddleware:
    - name: preview-middleware
      afterMiddleware: compression
      configuration:
        flp:
          path: /test/flpSandbox.html
          intent:
            object: myapp
            action: display
          theme: sap_horizon
          libs: true
          apps:
            - target: /path/to/app
              local: ./local-app
              componentId: my.component.id
              intent:
                object: otherapp
                action: show
          init: /custom/init.js
          enhancedHomePage: true
        test:
          - framework: OPA5
            path: /test/integration/opaTests.qunit.html
            init: /test/integration/opaTests.qunit.js
            pattern: /test/**/*Journey.{js,ts}
          - framework: QUnit
            path: /test/unit/unitTests.qunit.html
            init: /test/unit/unitTests.qunit.js
            pattern: /test/**/*Test.{js,ts}
        editors:
          rta:
            layer: CUSTOMER_BASE
            options:
              baseId: my-base-id
              projectId: my-project-id
              scenario: scenario1
              appName: MyApp
            endpoints:
              - path: /preview.html
                developerMode: false
                pluginScript: /plugins/my-plugin.js
                generator: my-generator
          cardGenerator:
            path: /card-generator
        debug: true
    - name: fiori-tools-preview
      afterMiddleware: compression
      configuration:
        flp:
          path: /test/flpSandbox.html
          intent:
            object: testapp
            action: preview
        debug: false
