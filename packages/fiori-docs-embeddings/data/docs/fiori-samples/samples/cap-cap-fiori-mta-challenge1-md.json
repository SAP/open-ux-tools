{
  "id": "fiori-samples-cap-cap-fiori-mta-challenge1-md",
  "title": "Switch from SQLite to HANA",
  "category": "samples",
  "path": "cap/cap-fiori-mta/challenge1.md",
  "lastModified": "2025-09-01T18:17:10.803Z",
  "tags": [
    "samples",
    "md",
    "Switch",
    "from",
    "SQLite",
    "HANA"
  ],
  "headers": [
    "Switch from SQLite to HANA"
  ],
  "content": "## Switch from SQLite to HANA\n- HANA Cloud database is setup and running in your cloud space, refer to this [tutorial](https://developers.sap.com/tutorials/hana-cloud-create-db-project.html)\n- Update the `cds` node in your `package.json` to the following;\n```json\n    \"cds\": {\n        \"build\": {\n            \"tasks\": [\n                {\n                    \"for\": \"hana\",\n                    \"dest\": \"../db\"\n                },\n                {\n                  \"for\": \"node-cf\"\n                }\n              ]\n            },\n        \"hana\": {\n            \"deploy-format\": \"hdbtable\"\n            },\n        \"requires\": {\n            \"db\": {\n              \"kind\": \"hana\"\n            },\n            \"uaa\": {\n              \"kind\": \"xsuaa\"\n            }\n        }\n  }\n```\n- Locate the `managedAppCAPProject-db-deployer` module in your `mta.yaml`, update the `path` from `gen/db` to `db`\n- Using the SAP HANA PROJECTS view, bind the `managedAppCAPProject-db` to your existing deployed HDI-shared instance and publish the sample data generated for you, for more information on bind and publishing using your local CAP Project, follow this [blog post](https://blogs.sap.com/2021/01/21/building-hana-opensap-cloud-2020-part-2-project-setup-and-first-db-build/)\n- Stop any existing `cds instances` and re-run `cds watch`, you will notice now the db is using hana as its datasource;\n```bash\n[cds] - connect using bindings from: { registry: '~/.cds-services.json' }\n[cds] - connect to db > hana {\n  certificate: '...',\n  driver: 'com.sap.db.jdbc.Driver',\n  hdi_password: '...',\n  hdi_user: '5ZSJY7DA7WSR5I8ID2437IM15_DT',\n  host: 'hostname',\n  password: '...',\n  port: '443',\n  schema: '349D449AD914434',\n  service_key_name: 'SharedDevKey',\n  url: 'jdbc:sap://hostname',\n  user: '349D449AD914434396E2631757'\n}\n[cds] - serving CatalogService { at: '/catalog' }\n```\n- Select `Open in New Tab` to open your application again\n- Once everything is validated as working, re-run the build and deploy steps to push your changes to CF\n\nIf there is an error with the connection to the database, try copying the generated `.env` from the `db` folder to the root of your project;\n```bash\ncp db/.env .\n```",
  "excerpt": "Switch from SQLite to HANA - HANA Cloud database is setup and running in your cloud space, refer to this tutorial - Update the cds node in your package.json to the following; `json     \"cds\": {       ...",
  "wordCount": 261,
  "version": "1.0.0",
  "source": "fiori-samples",
  "sourceType": "github"
}