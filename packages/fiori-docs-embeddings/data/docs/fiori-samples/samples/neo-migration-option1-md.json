{
  "id": "fiori-samples-neo-migration-option1-md",
  "title": "Option 1. Migrate Neo application using a managed approuter",
  "category": "samples",
  "path": "neo-migration/Option1.md",
  "lastModified": "2025-09-01T18:17:10.812Z",
  "tags": [
    "samples",
    "md",
    "Option",
    "Migrate",
    "Neo",
    "application",
    "using",
    "managed",
    "approuter"
  ],
  "headers": [
    "Option 1. Migrate Neo application using a managed approuter"
  ],
  "content": "# Option 1. Migrate Neo application using a managed approuter\n\nUnzip your exported Neo mtar or zip file. The contents may require additional files to be unzipped. If this is not the case, please continue to the next step;\n```BASH\nunzip /home/user/projects/neo/solution.mtar -d /home/user/projects/neo/\n```\n\nGenerate a new Fiori UI folder which will contain your Neo UI application\n```\nmkdir -p /home/user/projects/fioriapp\n```\n\nUnzip the contents of the Neo UI application into the Fiori UI application folder\n```BASH\nunzip /home/user/projects/neo/manageproductsneo.zip -d /home/user/projects/fioriapp/\n```\n\nYou now have a new folder with the contents of your exported Neo UI application, which is now ready for migration.\n\nFrom View -> Command Palette, run `Fiori: Migrate Project for use in Fiori tools`\n- select project and ensure SAPUI5 preview version is latest or appropriate to your project\n- Start migration\n- A migration results page will load, giving you a summary of any issues that need to be addressed\n- An application information page will also load, showing details of your app and commands you can run against it\n\nFrom View -> Command Palette, run `Neo Migration: HTML 5 Application descriptor transformation`\n- Select `neo-app.json`\n- A new `xs-app.json` is created with the routes populated from your old neo-app.json ready for Cloud Foundry deployment\n- If `xs-app.json` is overwritten or deleted, re-run this step again, it needs to be generated using the `neo-app.jso` as the source\n\nChange into the new UI application\n```\ncd /home/user/projects/fioriapp\n```\n\nFrom View -> Command Palette, run `npm run deploy-config cf`\n- Select destination `none`, not required as the `xs-app.json` is already created in the previous step\n- Add application to managed application router - Yes\n- Overwrite xs-app.json - No, this was created in the previous step, if you select yes, then just re-run the previous step again\n- Review `ui5.yaml` and `ui5-deploy.yaml` to ensure parameters look good\n\nTo start up Fiori UI application locally, run `npm run start` to ensure you can preview the UI locally on BAS\n\nTo build the application for Cloud Foundry, run `npm run build:mta` to build the MTA archive\n\n__SECURITY ALERT__\n\nThe generated `xs-security.json` does not contain any scopes or roles, append the following scopes as these will provide security collections that can be managed at subaccount level;\n\n```JSON\n  \"scopes\":[\n    {\n      \"name\": \"$XSAPPNAME.migratedroleapp\",\n      \"description\": \"Migrated scope from managed app\"\n    }\n  ],\n  \"role-templates\": [\n    {\n      \"name\": \"migratedroleapp\",\n      \"description\": \"Migrated Role Template from managed app\",\n      \"scope-references\": [\n      \"$XSAPPNAME.migratedroleapp\"\n      ]\n    }\n  ],\n  \"role-collections\": [\n    {\n      \"name\": \"ViewerPUBLIC\",\n      \"description\": \"Viewer (public) from migrated app\",\n      \"role-template-references\": [\n        \"$XSAPPNAME.migratedroleapp\"\n      ]\n    }\n  ]\n  ```\n\nIn order to apply these scopes to your application, update the `xs-app.json` routes that you require specific roles;\n```JSON\n    {\n      \"source\": \"^/northwind/(.*)$\",\n      \"target\": \"$1\",\n      \"destination\": \"northwind\",\n      \"csrfProtection\": false,\n      \"scope\": \"$XSAPPNAME.migratedroleapp\"\n    },\n```\n\nTo deploy the generated MTA archive to Cloud Foundry, run `npm run deploy`\n\nWithin the root of your project, open a terminal window and run `cf html5-list -u -di ns-manageproductsneo-destination-service -u --runtime launchpad` to retrieve the URL of the deployed app or else login to SAP BTP cockpit, subaccount, HTML5 Applications\n\nFor additional commands, please refer to the `package.json`.\n\nYour project is now migrated and deployed to CF. Ensure your user profile is mapped to the correct role collections in order to access the deployed application otherwise you will get a HTTP 403 error when trying to access the scoped route.\n\n![Alt text](ViewerPublicRole.png?raw=true \"Viewer role\")\n\nIf you want to undeploy it, then run `npm run undeploy`.\n",
  "excerpt": "Option 1. Migrate Neo application using a managed approuter Unzip your exported Neo mtar or zip file. The contents may require additional files to be unzipped. If this is not the case, please continue...",
  "wordCount": 574,
  "version": "1.0.0",
  "source": "fiori-samples",
  "sourceType": "github"
}