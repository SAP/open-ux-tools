{
  "id": "fiori-samples-neo-migration-option2-md",
  "title": "Option 2. Configure MTA with multiple migrated Neo UI applications",
  "category": "samples",
  "path": "neo-migration/Option2.md",
  "lastModified": "2025-09-01T18:17:10.812Z",
  "tags": [
    "samples",
    "md",
    "Option",
    "Configure",
    "MTA",
    "with",
    "multiple",
    "migrated",
    "Neo",
    "applications"
  ],
  "headers": [
    "Option 2. Configure MTA with multiple migrated Neo UI applications"
  ],
  "content": "# Option 2. Configure MTA with multiple migrated Neo UI applications\n\nFrom `View -> Command Palette`, run `Open CF Application Router Generator`\n- Change router path i.e. `/home/user/projects`\n- select `Managed Approuter`\n- Enter a unique MTA ID that will not conflict with any other existing configurations i.e. `managedapp`\n\nChange into new `managedapp` folder which will be root of your project structure;\n```\ncd /home/user/projects/managedapp/\n```\n\nUnzip your exported Neo mtar or zip file. The contents may require additional files to be unzipped. If this is not the case, please continue to the next step;\n```BASH\nunzip /home/user/projects/neo/solution.mtar -d /home/user/projects/neo/\n```\n\nUnzip the Neo application into a new sub folder;\n```\nunzip /home/user/projects/neo/manageproductsneo.zip -d /home/user/projects/managedapp/fioriapp\n```\n\nRun `Fiori: Migrate Project for use in Fiori tools`\n- Select your project and ensure SAPUI5 preview version is latest or appropriate to your project\n- Select `Start migration`\n- A migration results screen will show, giving you options if there is any issues that need to be addressed\n- An application information page will also load, showing details of your app and commands you can run against it\n\nRun `Neo Migration: HTML 5 Application descriptor transformation`\n- Select your `neo-app.json`\n- New `xs-app.json` created in UI project with the routes populated from your old `neo-app.json`\n- If this is overwritten or deleted, please re-run this step again, it needs to be generated using the `neo-app.json` as the source\n\nChange into the new Fiori UI application\n```\ncd /home/user/projects/managedapp/fioriapp\n```\n\nRun `npm run deploy-config cf`\n- Select destination `none`, not reqired as the `xs-app.json` is already created from a previous step\n- Overwrite xs-app.json - No, this was created in the previous step, if you select yes, then just re-run the previous step again\n- Review `ui5.yaml` and `ui5-deploy.yaml` to ensure parameters look good\n\nRun `npm run start` to ensure you can preview the UI locally on BAS\n\nRun `npm run build` to build the MTA archive with all the Fiori UI applications\n\n__SECURITY ALERT__\n\nThe generated `xs-security.json` does not contain any scopes or roles, append the following scopes as these will provide security collections that can be managed at subaccount level;\n\n```JSON\n  \"scopes\":[\n    {\n      \"name\": \"$XSAPPNAME.migratedroleapp\",\n      \"description\": \"Migrated scope from managed app\"\n    }\n  ],\n  \"role-templates\": [\n    {\n      \"name\": \"migratedroleapp\",\n      \"description\": \"Migrated Role Template from managed app\",\n      \"scope-references\": [\n      \"$XSAPPNAME.migratedroleapp\"\n      ]\n    }\n  ],\n  \"role-collections\": [\n    {\n      \"name\": \"ViewerPUBLIC\",\n      \"description\": \"Viewer (public) from migrated app\",\n      \"role-template-references\": [\n        \"$XSAPPNAME.migratedroleapp\"\n      ]\n    }\n  ]\n  ```\n\nIn order to apply these scopes to your application, update the `xs-app.json` routes that you require specific roles;\n```JSON\n    {\n      \"source\": \"^/northwind/(.*)$\",\n      \"target\": \"$1\",\n      \"destination\": \"northwind\",\n      \"csrfProtection\": false,\n      \"scope\": \"$XSAPPNAME.migratedroleapp\"\n    },\n```\n\nRun `npm run deploy` to deploy the MTA archive to CF\n\nRun `cf html5-list -u -di managedapp-destination-service -u --runtime launchpad` to retrieve the URL of the deployed app or else login to SAP BTP cockpit, subaccount, HTML5 Applications\n\nYour project is now migrated and deployed to CF. Ensure your user profile is mapped to the correct role collections in order to access the application otherwise you will get a HTTP 403 error when trying to access the scoped route.\n\nIf you want to undeploy it, then run `npm run undeploy`.\n\n__To support additional UI's being appended to the root `mta.yaml` you follow the same steps, ensuring your migrated app is added a sub folder to the managedapp folder.___\n",
  "excerpt": "Option 2. Configure MTA with multiple migrated Neo UI applications From View -> Command Palette, run Open CF Application Router Generator - Change router path i.e. /home/user/projects - select Managed...",
  "wordCount": 558,
  "version": "1.0.0",
  "source": "fiori-samples",
  "sourceType": "github"
}