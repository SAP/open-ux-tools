{
  "id": "fiori-samples-cap-cap-fiori-hybrid-mta-yaml",
  "title": "mta",
  "category": "fiori-samples",
  "path": "cap/cap-fiori-hybrid/mta.yaml",
  "lastModified": "2025-09-29T10:06:39.517Z",
  "tags": [
    "fiori-samples",
    "yaml",
    "mta"
  ],
  "headers": [],
  "content": "# mta.yaml\n\n```yaml\n_schema-version: \"3.1\"\nID: managedAppCAPProject\ndescription: A simple CAP project.\nversion: 1.0.0\nmodules:\n  - name: managedAppCAPProject-srv\n    type: nodejs\n    path: gen/srv\n    requires:\n      - name: managedAppCAPProject-db\n      - name: uaa_managedAppCAPProject\n    parameters:\n      buildpack: nodejs_buildpack\n      disk-quota: 512M\n      host: ${appname}\n      memory: 256M\n    build-parameters:\n      builder: npm-ci\n      ignore:\n        - .env\n        - node_modules/\n  - name: managedAppCAPProject-db-deployer\n    type: hdb\n    path: db\n    requires:\n      - name: managedAppCAPProject-db\n        properties:\n          TARGET_CONTAINER: ~{hdi-service-name}\n    parameters:\n      buildpack: nodejs_buildpack\n  - name: managedAppCAPProject-destination-content\n    type: com.sap.application.content\n    requires:\n      - name: managedAppCAPProject-destination-service\n        parameters:\n          content-target: true\n      - name: managedAppCAPProject_html_repo_host\n        parameters:\n          service-key:\n            name: managedAppCAPProject_html_repo_host-key\n      - name: uaa_managedAppCAPProject\n        parameters:\n          service-key: # creates xsuaa service key for Managed approuter\n            name: managedAppCAPProject-xsuaa-service-key\n    parameters:\n      content:\n        instance:\n          destinations:\n            - Name: managedRouterCapProject_managedAppCAPProject_html_repo_host\n              ServiceInstanceName: managedAppCAPProject-html5-app-host-service\n              ServiceKeyName: managedAppCAPProject_html_repo_host-key\n              sap.cloud.service: managedRouterCapProject\n            - Authentication: OAuth2UserTokenExchange\n              Name: managedRouterCapProject_uaa_managedAppCAPProject\n              ServiceInstanceName: managedAppCAPProject-xsuaa-service\n              ServiceKeyName: managedAppCAPProject-xsuaa-service-key\n              sap.cloud.service: managedRouterCapProject\n          existing_destinations_policy: ignore\n      disk-quota: 512M\n      memory: 256M\n    build-parameters:\n      no-source: true\n  - name: managedAppCAPProject-app-content\n    type: com.sap.application.content\n    path: .\n    requires:\n      - name: managedAppCAPProject_html_repo_host\n        parameters:\n          content-target: true\n    build-parameters:\n      build-result: resources\n      requires:\n        - artifacts:\n            - captutorialfeprojectui.zip\n          name: captutorialfeprojectui\n          target-path: resources/\n  - name: captutorialfeprojectui\n    type: html5\n    path: app/feproject-ui\n    build-parameters:\n      build-result: dist\n      builder: custom\n      commands:\n        - npm install\n        - npm run build:cf\n      supported-platforms: []\nresources:\n  - name: managedAppCAPProject-db\n    type: com.sap.xs.hdi-container\n    parameters:\n      service: hana\n      service-keys:\n        - name: managedAppCAPProject-db-key\n      service-plan: hdi-shared\n    properties:\n      hdi-service-name: ${service-name}\n  - name: managedAppCAPProject-destination-service\n    type: org.cloudfoundry.managed-service\n    parameters:\n      config:\n        HTML5Runtime_enabled: true\n        init_data:\n          instance:\n            destinations:\n              - Authentication: NoAuthentication\n                Name: ui5\n                ProxyType: Internet\n                Type: HTTP\n                URL: https://ui5.sap.com\n              - Authentication: NoAuthentication\n                HTML5.DynamicDestination: true\n                HTML5.ForwardAuthToken: true\n                Name: cap-catalog-api\n                ProxyType: Internet\n                Type: HTTP\n                URL: https://${appname}.${default-domain}\n            existing_destinations_policy: update\n        version: 1.0.0\n      service: destination\n      service-name: managedAppCAPProject-destination-service\n      service-plan: lite\n  - name: managedAppCAPProject_html_repo_host\n    type: org.cloudfoundry.managed-service\n    parameters:\n      service: html5-apps-repo\n      service-name: managedAppCAPProject-html5-app-host-service\n      service-plan: app-host\n  - name: uaa_managedAppCAPProject\n    type: org.cloudfoundry.managed-service\n    parameters:\n      path: ./xs-security.json\n      service: xsuaa\n      service-name: managedAppCAPProject-xsuaa-service\n      service-plan: application\nparameters:\n  appname: mycapproject-unique\n  deploy_mode: html5-repo\n  enable-parallel-deployments: true\nbuild-parameters:\n  before-all:\n    - builder: custom\n      commands:\n        - npm ci\n        - npx -p @sap/cds-dk cds build --production\n\n```",
  "excerpt": "mta.yaml",
  "wordCount": 294,
  "version": "1.0.0",
  "source": "fiori-samples",
  "sourceType": "github"
}