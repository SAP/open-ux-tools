{
  "id": "fiori-showcase-app-listreport-objectpage-webapp-ext-controller-rootentitylrextension-controller-ts",
  "title": "RootEntityLRExtension.controller",
  "category": "fiori-features",
  "path": "app/listreport-objectpage/webapp/ext/controller/RootEntityLRExtension.controller.ts",
  "lastModified": "2025-09-29T10:06:39.213Z",
  "tags": [
    "fiori-features",
    "ts",
    "RootEntityLRExtension",
    "controller"
  ],
  "headers": [
    "RootEntityLRExtension",
    "atm"
  ],
  "content": "# RootEntityLRExtension.controller.ts\n\n```typescript\nimport ExtensionAPI from 'sap/fe/templates/ListReport/ExtensionAPI';\nimport { Button$PressEvent } from 'sap/m/Button';\nimport MessageBox from 'sap/m/MessageBox';\nimport ControllerExtension from 'sap/ui/core/mvc/ControllerExtension';\nimport Context from 'sap/ui/model/odata/v4/Context';\nimport ODataContextBinding from 'sap/ui/model/odata/v4/ODataContextBinding';\n\n/**\n * @namespace sap.fe.showcase.lrop.ext.controller\n */\nexport default class RootEntityLRExtension extends ControllerExtension<ExtensionAPI> {\n  messageBox() {\n      MessageBox.alert(\"Button pressed\");\n  }\n  enabled() {\n      return true;\n  }\n  enabledForSingleSelect(_: ODataContextBinding, aSelectedContexts: [Context]) {\n      if (aSelectedContexts && aSelectedContexts.length === 1) {\n          return true;\n      }\n      return false;\n  }\n\n  onResetRating(_: Button$PressEvent) {\n    // @ts-expect-error setFiltersValues has faulty type atm\n    this.base.getExtensionAPI().setFilterValues(\"starsValue\");\n  }\n\n  isCreateEnabled(value: String, parentContext?: Context) {\n    switch (parentContext?.getProperty(\"category_code\")) {\n      case \"03\":\n        return value === \"02\"; // Only Divisions under Business Units\n      case \"02\":\n        return value === \"01\"; // Only Departments under Divisions\n      case \"01\":\n        return false; // Nothing under Departments\n      default:\n        return value === \"03\"; // Only Business Units at root level\n    }\n  }\n\n  isMoveToPositionAllowed(sourceContext: Context, parentContext?: Context) {\n    switch (parentContext?.getProperty(\"category_code\")) {\n      case \"03\":\n          return sourceContext?.getProperty(\"category_code\") === \"02\";\n      case \"02\":\n          return  sourceContext?.getProperty(\"category_code\") === \"01\";\n      case \"01\":\n          return false; // Nothing under Departments\n      default:\n          return false;\n    }\n  } \n  isNodeMovable(sourceContext: Context) {\n    // Keep in mind getProperty does only return loaded property & \n    // that via personalisation a user could hide properties assumed to exist\n    return sourceContext.getProperty('name') !== 'Compilance';\n  } \n  isNodeCopyable(sourceContext: Context) {\n    return sourceContext.getProperty('name') !== 'Compilance';\n  } \n  isCopyToPositionAllowed(sourceContext: Context, parentContext?: Context) {\n    switch (parentContext?.getProperty(\"category_code\")) {\n      case \"03\":\n          return sourceContext?.getProperty(\"category_code\") === \"02\" ||Â sourceContext?.getProperty(\"category_code\") === \"01\";\n      case \"02\":\n          return  sourceContext?.getProperty(\"category_code\") === \"01\";\n      case \"01\":\n          return false; // Nothing under Departments\n      default:\n          return false;\n    }\n  }\n}\n\n```",
  "excerpt": "RootEntityLRExtension.controller.ts",
  "wordCount": 245,
  "version": "1.0.0",
  "source": "fiori-showcase",
  "sourceType": "github"
}