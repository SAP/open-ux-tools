{
  "id": "fiori-showcase-app-listreport-objectpage-capabilities-cds",
  "title": "capabilities",
  "category": "fiori-features",
  "path": "app/listreport-objectpage/capabilities.cds",
  "lastModified": "2025-09-29T10:06:39.212Z",
  "tags": [
    "fiori-features",
    "cds",
    "capabilities"
  ],
  "headers": [],
  "content": "# capabilities.cds\n\n```cds\nusing LROPODataService as srv from '../../srv/list-report-srv';\n\nannotate srv.RootEntities with @odata.draft.enabled; //Search-Term: #Draft\n\nannotate srv.RootEntities with @(\n    //Disables the delete option dependent of the fields value\n    Capabilities.DeleteRestrictions : {\n        Deletable   : deletePossible, //Search-Term: #DynamicCRUD\n    },\n    /* Capabilities.UpdateRestrictions : {\n        Updatable : updatePossible, //UpdateRestrictions are ignored in determining if the edit button is visible or not, but it still affects wheather the fields are editable or not\n    }, */\n    UI.UpdateHidden : updateHidden,//Search-Term: #DynamicCRUD\n\n    UI.CreateHidden: { $edmJson: { $Path: '/Singleton/createHidden' } }, //Search-Term: #DynamicCRUD\n\n    Capabilities.FilterRestrictions : {\n        FilterExpressionRestrictions : [\n            {\n                //Search-Term: #SemanticDateFilter\n                Property : 'validFrom',\n                AllowedExpressions : 'SingleRange' //Other option: SingleValue\n            },\n        ],\n        // RequiredProperties : [\n        //     stringProperty //Search-Term: #RequiredFilter    \n        // ]\n    },\n) {\n    validTo @UI.DateTimeStyle : 'short'\n};\n\nannotate LROPODataService with @(\n    Capabilities.FilterFunctions : [\n        'tolower' //Search-Term: #CaseInsensitiveFiltering\n    ],\n);\n\nannotate srv.ChartDataEntities with @(\n    //Search-Term: #ChartSection\n    Aggregation.ApplySupported : {\n        GroupableProperties : [\n            dimensions,\n            criticality_code\n        ],\n        AggregatableProperties : [\n            {Property : integerValue},\n        ],\n    }\n);\n\nannotate srv.ChartDataEntities with {\n    //Search-Term: #ChartSection\n    criticality @(\n        UI.ValueCriticality   : [\n            {\n                Value       : 0,\n                Criticality : #Neutral\n            },\n            {\n                Value       : 1,\n                Criticality : #Negative\n            },\n            {\n                Value       : 2,\n                Criticality : #Critical\n            },\n            {\n                Value       : 3,\n                Criticality : #Positive\n            }\n        ]\n    );\n\n    integerValue @(\n        Measures.ISOCurrency : uom_code,\n        Core.Immutable       : true,\n    );\n};\n\n// Search-Term: #TreeTable\nannotate srv.OrganizationalUnits @(\n    Aggregation.RecursiveHierarchy #OrgUnitsHierarchy : {\n        ParentNavigationProperty : superOrdinateOrgUnit, // navigates to a node's parent\n        NodeProperty             : ID, // identifies a node, usually the key\n    },\n    Hierarchy.RecursiveHierarchyActions #OrgUnitsHierarchy : {\n        ChangeSiblingForRootsSupported: true, // Disables move up/down of root nodes. Does not disable promotion of child nodes!\n        ChangeNextSiblingAction : 'LROPODataService.moveOrgUnit',\n        CopyAction : 'LROPODataService.copyOrgUnit',\n    },\n    // To disable cut, paste & drag & drop & move up & down. Copy & Paste still allowed\n    // Be aware this currently does only affect the UI but not enforce the restriction on API level!\n    // Capabilities: {UpdateRestrictions: {NonUpdatableNavigationProperties: [superOrdinateOrgUnit]}}\n);\n\n// Fiori expects the following to be defined explicitly, even though they're always the same\nextend srv.OrganizationalUnits with @(\n  // The columns expected by Fiori to be present in hierarchy entities\n  Hierarchy.RecursiveHierarchy #OrgUnitsHierarchy : {\n    LimitedDescendantCount : LimitedDescendantCount,\n    DistanceFromRoot       : DistanceFromRoot,\n    DrillState             : DrillState,\n    LimitedRank            : LimitedRank\n  },\n  // Disallow filtering on these properties from Fiori UIs\n  Capabilities.FilterRestrictions.NonFilterableProperties: [\n    'LimitedDescendantCount',\n    'DistanceFromRoot',\n    'DrillState',\n    'LimitedRank'\n  ],\n  // Disallow sorting on these properties from Fiori UIs\n  Capabilities.SortRestrictions.NonSortableProperties    : [\n    'LimitedDescendantCount',\n    'DistanceFromRoot',\n    'DrillState',\n    'LimitedRank'\n  ],\n) columns { // Ensure we can query these fields from database\n  null as LimitedDescendantCount : Int16,\n  null as DistanceFromRoot       : Int16,\n  null as DrillState             : String,\n  null as LimitedRank            : Int16,\n};\n```",
  "excerpt": "capabilities.cds",
  "wordCount": 428,
  "version": "1.0.0",
  "source": "fiori-showcase",
  "sourceType": "github"
}