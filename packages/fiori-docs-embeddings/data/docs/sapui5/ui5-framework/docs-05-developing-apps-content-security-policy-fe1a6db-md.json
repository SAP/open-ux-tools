{
  "id": "sapui5-docs-05-developing-apps-content-security-policy-fe1a6db-md",
  "title": "Content Security Policy",
  "category": "ui5-framework",
  "path": "docs/05_Developing_Apps/content-security-policy-fe1a6db.md",
  "lastModified": "2025-09-01T18:17:10.558Z",
  "tags": [
    "ui5-framework",
    "md",
    "Content",
    "Security",
    "Policy"
  ],
  "headers": [
    "Content Security Policy",
    "CSP for SAPUI5 - Dos and Don'ts",
    "Policies Without `script-src 'unsafe-inline'`",
    "Policies Without `script-src 'unsafe-eval'`",
    "Test Your Policies with `Report-Only`",
    "Directives",
    "Specific Restrictions"
  ],
  "content": "<!-- loiofe1a6dba940e479fb7c3bc753f92b28c -->\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"../css/sap-icons.css\"/>\n\n# Content Security Policy\n\nContent Security Policy \\(CSP\\) adds an additional layer of security that can detect and mitigate certain types of attacks, such as cross-site scripting and data injection.\n\n\n\nCSP restricts the sources from which the browser is allowed to load resources, such as scripts, fonts, and images:\n\n-   CSP mitigates and reports XSS attacks; CSP-compatible browsers only execute scripts loaded in source files that are received from allowed sources.\n\n-   CSP also mitigates packet sniffing attacks by specifying the protocols that may be used on the web server, for example, specifying that content must be loaded from HTTPS.\n\n\nCSP is either enabled via a configuration in the web server to return the Content-Security-Policy HTTP header \\(preferred solution\\), or via the `<meta>` element in the meta tags of an HTML page.\n\nFor generic information about CSP, see [https://www.w3.org/TR/CSP2/](https://www.w3.org/TR/CSP2/).\n\n\n\n<a name=\"loiofe1a6dba940e479fb7c3bc753f92b28c__section_chc_tmq_crb\"/>\n\n## CSP for SAPUI5 - Dos and Don'ts\n\nFor SAPUI5, we recommend that developers build their apps CSP-compliant, in particular regarding the loading of resources and the use of inline scripts.\n\n\n\n### Policies Without `script-src 'unsafe-inline'`\n\nTo build CSP-compliant SAPUI5 without inline scripts, avoid the following:\n\n-   `<script>` elements with inlined source code\n\n-   Inline event handlers\n\n-   `javascript:` URLs\n\n-   `document.write()`, `createElement('script')`, and so on, if they are used to create inline scripts. Creating script references, such as `<script src=\"...\"></script>`, or non-script content with them is okay.\n\n\n\n\n### Policies Without `script-src 'unsafe-eval'`\n\n`eval()` is currently still required in some parts of SAPUI5 for synchronous loading and other functionality. However, we recommend loading JavaScript resources asynchronously, which also avoids the use of `eval()`. For more information about asynchronous loading, see [Modules and Dependencies](../04_Essentials/modules-and-dependencies-91f23a7.md).For more information about avoiding synchronous APIs that might lead to synchronous loading, see [Deprecated Factories Replacement](../04_Essentials/deprecated-factories-replacement-491bd9c.md).\n\nFor a CSP policy that doesn't allow `eval()` you must also avoid the following elements when developing SAPUI5 apps:\n\n-   `new Function()`\n\n-   `<setTimeout(<non-fn>)`\n\n    This will be ignored silently and not create a timer without `'unsafe-eval'`, that is, `<non-fn>` is never executed. `setTimeout(<fn>)` works with and without `'unsafe-eval'`.\n\n-   `setInterval(<non-fn>)`\n\n    This will be ignored silently and not create a repeated timer without `'unsafe-eval'`, that is, the `<non-fn>` is never executed. `setInterval(<fn>)` works with and without the `'unsafe-eval'`.\n\n\n\n\n<a name=\"loiofe1a6dba940e479fb7c3bc753f92b28c__section_spl_4p3_2rb\"/>\n\n## Test Your Policies with `Report-Only`\n\n> ### Note:  \n> CSP is a complex subject with many interdependencies and dynamics. Example: A CSP-compliant control or function in your app might have a dependency to a deprecated API that is not fully CSP-compliant. In this case you may need to add `'unsafe-eval'` to the `script-src` directive. That's why it's important to test your policies to check this.\n\nTo test policies without enforcing them, set up CSP with the `Content-Security-Policy-Report-Only` response header and test with the **most restrictive** policy. Monitor the reports to add missing sources \\(see [Directives](content-security-policy-fe1a6db.md#loiofe1a6dba940e479fb7c3bc753f92b28c__directives). When you have found the desired policy, replace the `Content-Security-Policy-Report-Only` header with `Content-Security-Policy` to enforce the policy.\n\n\n\n<a name=\"loiofe1a6dba940e479fb7c3bc753f92b28c__directives\"/>\n\n## Directives\n\nTo run an app in an environment in which CSP has been enabled, SAPUI5 requires the following CSP directives and source entries:\n\n\n<table>\n<tr>\n<th valign=\"top\" rowspan=\"2\">\n\nDirective\n\n</th>\n<th valign=\"top\" align=\"center\" colspan=\"4\">\n\nSources Required by the SAPUI5 Framework\n\n</th>\n<th valign=\"top\" align=\"center\">\n\nSources Required by the App\n\n</th>\n</tr>\n<tr>\n<th valign=\"top\">\n\n<code>&lt;source hosting SAPUI5&gt;</code>\n\n\\(equals `'self'` if SAPUI5 is hosted with the app\\)\n\n</th>\n<th valign=\"top\">\n\n`data:`\n\n</th>\n<th valign=\"top\">\n\n`blob:`\n\n</th>\n<th valign=\"top\">\n\nOther Sources\n\n</th>\n<th valign=\"top\">\n\nCustom Sources \\(Including 'self' for the App's Own Origin\\)\n\n</th>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`script-src`\n\n</td>\n<td valign=\"top\" align=\"center\">\n\n<span style=\"color:#007833;\"><span class=\"SAP-icons-V5\"></span></span>\n\n</td>\n<td valign=\"top\">\n\n \n\n</td>\n<td valign=\"top\">\n\n \n\n</td>\n<td valign=\"top\">\n\n`'unsafe-eval'`\n\nRequired for synchronous loading of JavaScript resources.\n\nRequired for the following libraries:\n\n-   `sap.ca.ui` and scaffolding framework\n-   `sap.makit`\n-   `sap.me`\n-   `sap.ui.commons`\n-   `sap.ui.ux3`\n-   `sap.uiext.inbox`\n-   `sap.viz.*` \\(deprecated part\\)\n-   `sap.zen.*`\n\nMost likely required for deprecated APIs, especially for programming model APIs, like old factories in the `sap.ui` namespace.\n\nCertain libraries at least partly still require `'unsafe-eval'`, including the following:\n\n-   `sap.apf`\n-   `sap.collaboration`\n-   `sap.ovp`\n-   `sap.suite.ui.generic.template`\n-   `sap.rules.ui`\n-   `sap.ui.vbm`\n-   `sap.ushell`\n\nThe above list assumes that the app runs using library preloads \\(recommended, see [Ensure that Library Preloads are Enabled](performance-speed-up-your-app-408b40e.md#loio408b40efed3c416681e1bd8cdd8910d4__section_LibraryPreloads)\\). If the application runs without preloads, more libraries require `unsafe-eval`.\n\n</td>\n<td valign=\"top\">\n\n-   Requires `'self'` for loading application resources.\n-   May require `'unsafe-inline'` or `'unsafe-eval'` depending on custom scripts.\n\n\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`style-src`\n\n</td>\n<td valign=\"top\" align=\"center\">\n\n<span style=\"color:#007833;\"><span class=\"SAP-icons-V5\"></span></span>\n\n</td>\n<td valign=\"top\">\n\n \n\n</td>\n<td valign=\"top\">\n\n \n\n</td>\n<td valign=\"top\">\n\n`'unsafe-inline'`\n\nRequired for the following libraries:\n\n-   `sap.ca.ui` and scaffolding framework\n-   `sap.makit`\n-   `sap.me`\n-   `sap.ui.richtexteditor`\n-   `sap.ui.commons`\n-   `sap.ui.ux3`\n-   `sap.uiext.inbox`\n-   `sap.viz.*` \\(deprecated part\\)\n-   `sap.zen.*`\n\nMost likely required for deprecated APIs.\n\nCertain libraries at least partly still require `'unsafe-inline'`, including:\n\n-   `sap.gantt`\n-   `sap.rules.ui`\n-   `sap.suite.ui.commons`\n-   `sap.ui.vbm`\n-   `sap.ui.vk`\n-   `sap.ushell`\n\n\n\n</td>\n<td valign=\"top\">\n\n-   May require `'self'` and additional locations for application-specific styles and themes.\n-   Requires `'unsafe-inline'` for custom controls using inline styles.\n\n\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`img-src`\n\n</td>\n<td valign=\"top\" align=\"center\">\n\n<span style=\"color:#007833;\"><span class=\"SAP-icons-V5\"></span></span>\n\n</td>\n<td valign=\"top\">\n\nMay be required by some specific SAPUI5 functionality.\n\n</td>\n<td valign=\"top\">\n\nMay be required by some specific SAPUI5 functionality.\n\n</td>\n<td valign=\"top\">\n\n \n\n</td>\n<td valign=\"top\">\n\nMay require `'self'` or additional locations for application-specific images \\(such as custom themes or images in the back end\\).\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`font-src`\n\n</td>\n<td valign=\"top\" align=\"center\">\n\n<span style=\"color:#007833;\"><span class=\"SAP-icons-V5\"></span></span>\n\n</td>\n<td valign=\"top\">\n\nMay be required by some specific SAPUI5 functionality.\n\n</td>\n<td valign=\"top\">\n\n \n\n</td>\n<td valign=\"top\">\n\n \n\n</td>\n<td valign=\"top\">\n\nMay require `'self'` or additional locations for application-specific fonts.\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`frame-src`\n\n</td>\n<td valign=\"top\">\n\nRequired for using the support assistant and/or the diagnostics tool. Also required to avoid a fallback to `child-src`.\\*\n\n</td>\n<td valign=\"top\">\n\nMay be required by some specific SAPUI5 functionality.\n\n</td>\n<td valign=\"top\">\n\nMay be required by some specific SAPUI5 functionality.\n\n</td>\n<td valign=\"top\">\n\n \n\n</td>\n<td valign=\"top\">\n\nMay require additional locations depending on the integration, application, or test scenario.\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`worker-src`\n\n</td>\n<td valign=\"top\" align=\"center\">\n\n<span style=\"color:#007833;\"><span class=\"SAP-icons-V5\"></span></span>\n\n</td>\n<td valign=\"top\">\n\nMay be required by some specific SAPUI5 functionality.\n\n</td>\n<td valign=\"top\">\n\nMay be required by some specific SAPUI5 functionality.\n\n</td>\n<td valign=\"top\">\n\n \n\n</td>\n<td valign=\"top\">\n\n \n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`child-src`\\*\\*\n\n</td>\n<td valign=\"top\" align=\"center\">\n\n<span style=\"color:#007833;\"><span class=\"SAP-icons-V5\"></span></span>\n\n</td>\n<td valign=\"top\">\n\nMay be required by some specific SAPUI5 functionality.\n\n</td>\n<td valign=\"top\">\n\nMay be required by some specific SAPUI5 functionality.\n\n</td>\n<td valign=\"top\">\n\n \n\n</td>\n<td valign=\"top\">\n\n \n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`connect-src`\n\n</td>\n<td valign=\"top\" align=\"center\">\n\n<span style=\"color:#007833;\"><span class=\"SAP-icons-V5\"></span></span>\n\n</td>\n<td valign=\"top\">\n\n \n\n</td>\n<td valign=\"top\">\n\n \n\n</td>\n<td valign=\"top\">\n\nSome specific SAPUI5 functionality may require `wss:`.\n\n</td>\n<td valign=\"top\">\n\nRequires `'self'` for loading application resources.\n\n</td>\n</tr>\n</table>\n\n\\*In case `child-src` has been specified but no fallback for `frame-src` is intended, define `frame-src` with proper sources \\(could also be `'none'`\\).\n\n\\*\\*`child-src` is still required for browsers that don't support `worker-src` yet.\n\n\n\n<a name=\"loiofe1a6dba940e479fb7c3bc753f92b28c__section_c1k_gt3_2rb\"/>\n\n## Specific Restrictions\n\nThe following functions and features require additional CSP source entries or have certain restrictions:\n\n\n<table>\n<tr>\n<th valign=\"top\">\n\nLibrary\n\n</th>\n<th valign=\"top\">\n\nTopic\n\n</th>\n<th valign=\"top\">\n\nComment\n\n</th>\n</tr>\n<tr>\n<td valign=\"top\" align=\"center\" colspan=\"3\">\n\n<code><b>script-src 'unsafe-eval'</b></code>\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`sap.ui.support`\n\n</td>\n<td valign=\"top\">\n\nSupport Assistant - Temporary Rules\n\n</td>\n<td valign=\"top\">\n\nFor temporary rules in the Support Assistant, dynamic code execution is essential, so it can't be removed. Support Assistant detects whether dynamic code execution is allowed and informs the user if temporary rules can be used or not.\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`sap.ushell`\n\n</td>\n<td valign=\"top\">\n\nSearch, App Finder, Custom Tiles\n\n</td>\n<td valign=\"top\">\n\n`script-src 'unsafe-eval'` is required for the App Finder and the rendering of custom tiles. It's also required to start the search function via a deep link.\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`sap.viz`\n\n</td>\n<td valign=\"top\">\n\nVizContainer, typed charts\n\n</td>\n<td valign=\"top\">\n\nVizContainer and old typed charts require synchronous loading of JavaScript.\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`unified.shell`\n\n</td>\n<td valign=\"top\">\n\nFactsheets, Smart Business\n\n</td>\n<td valign=\"top\">\n\nFactsheets and Smart Business \\(tiles\\) have not been fully adopted to run without synchronous loading yet.\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\" align=\"center\" colspan=\"3\">\n\n<code><b>script-src 'unsafe-inline'</b></code>\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`sap.ui.richtexteditor`\n\n</td>\n<td valign=\"top\">\n\nRichTextEditor\n\n</td>\n<td valign=\"top\">\n\nThe following cases can cause CSP-relevant issues for inline scripts when the RichTextEditor is used:\n\n-   If you're using one of the following plugins: `linkchecker`, `preview`\n-   If you're using the `tinymce.ui.Iframe` widget\n\nSee also [sap.ui.richtexteditor.RichTextEditor](../10_More_About_Controls/sap-ui-richtexteditor-richtexteditor-d4f3f15.md).\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\" align=\"center\" colspan=\"3\">\n\n<code><b>script-src 'wasm-unsafe-eval'</b></code>\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`sap.ui.core`\n\n</td>\n<td valign=\"top\">\n\nHyphenation\n\n</td>\n<td valign=\"top\">\n\n`script-src` requires `wasm-unsafe-eval`\n\nWhen native hyphenation is not available, a third-party library \\(Hyphenopoly\\) is used. This library uses WASM, which leads to CSP issues due to browser limitations. There is a fallback to `asm.js`, if WASM can't be used.\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\" align=\"center\" colspan=\"3\">\n\n<code><b>style-src 'unsafe-inline'</b></code>\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`sap.m` and others\n\n</td>\n<td valign=\"top\">\n\nControls that display provided HTML text \\(for example `sap.m.FormattedText` and `sap.ui.core.HTML`\\)\n\n</td>\n<td valign=\"top\">\n\nCertain controls display provided HTML text, for example `sap.m.FormattedText`. If the provided text contains a style attribute or a style element with inline styles, `'unsafe-inline'` is required for `style-src`.\n\nIt's recommended to use styling with the `class` attribute and external stylesheets.\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`sap.ui.vk`\n\n</td>\n<td valign=\"top\">\n\n2D drawings \\(`sap.ui.vk.svg.Viewport`\\)\n\n</td>\n<td valign=\"top\">\n\nWhen a 2D drawing is loaded, `sap.ui.vk.svg.Viewport` creates an SVG document that uses inline styles to define SVG drawing elements, colors, line styles, etc.\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`sap.ushell`\n\n</td>\n<td valign=\"top\">\n\nCompany Logo\n\n</td>\n<td valign=\"top\">\n\nA console error related to the loading of the company logo is logged during startup of the SAP Fiori launchpad. Eventually, the logo is loaded as expected.\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`sap.viz`\n\n</td>\n<td valign=\"top\">\n\nVizContainer, typed charts\n\n</td>\n<td valign=\"top\">\n\nVizContainer and old typed charts require synchronous loading of JavaScript.\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`unified.shell`\n\n</td>\n<td valign=\"top\">\n\nFactsheets, Smart Business\n\n</td>\n<td valign=\"top\">\n\nFactsheets and Smart Business \\(tiles\\) have not been fully adopted to run without inline styles yet.\n\n</td>\n</tr>\n</table>\n\n",
  "excerpt": "<!-- loiofe1a6dba940e479fb7c3bc753f92b28c --> <link rel=\"stylesheet\" type=\"text/css\" href=\"../css/sap-icons.css\"/> Content Security Policy Content Security Policy \\(CSP\\) adds an additional layer of s...",
  "wordCount": 1687,
  "version": "1.0.0",
  "source": "sapui5",
  "sourceType": "github"
}