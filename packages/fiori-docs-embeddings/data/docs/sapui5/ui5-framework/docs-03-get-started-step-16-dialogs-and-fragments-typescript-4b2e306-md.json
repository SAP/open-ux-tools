{
  "id": "sapui5-docs-03-get-started-step-16-dialogs-and-fragments-typescript-4b2e306-md",
  "title": "Step 16: Dialogs and Fragments \\(TypeScript\\)",
  "category": "ui5-framework",
  "path": "docs/03_Get-Started/step-16-dialogs-and-fragments-typescript-4b2e306.md",
  "lastModified": "2025-09-01T18:17:10.456Z",
  "tags": [
    "ui5-framework",
    "md",
    "Step",
    "Dialogs",
    "and",
    "Fragments",
    "TypeScript"
  ],
  "headers": [
    "Step 16: Dialogs and Fragments \\(TypeScript\\)",
    "Preview",
    "Coding",
    "webapp/view/HelloDialog.fragment.xml \\(New\\)",
    "webapp/controller/HelloPanel.controller.ts",
    "webapp/i18n/i18n.properties",
    "webapp/view/HelloPanel.view.xml"
  ],
  "content": "<!-- loio4b2e306f4bcd4777b068e5a99e007e85 -->\n\n# Step 16: Dialogs and Fragments \\(TypeScript\\)\n\nIn this step, we will take a closer look at another element which can be used to assemble views: the fragment.\n\nFragments are light-weight UI parts \\(UI subtrees\\) which can be reused but do not have any controller. This means, whenever you want to define a certain part of your UI to be reusable across multiple views, or when you want to exchange some parts of a view against one another under certain circumstances \\(different user roles, edit mode vs read-only mode\\), a fragment is a good candidate, especially where no additional controller logic is required.\n\nA fragment can consist of 1 to n controls. At runtime, fragments placed in a view behave similar to \"normal\" view content, which means controls inside the fragment will just be included into the view's DOM when rendered. There are of course controls that are not designed to become part of a view, for example, dialogs. But even for these controls, fragments can be particularly useful, as you will see in a minute.\n\nWe will now add a dialog to our app. Dialogs are special, because they open on top of the regular app content and thus do not belong to a specific view. That means the dialog must be instantiated somewhere in the controller code, but since we want to stick with the declarative approach and create reusable artifacts to be as flexible as possible, we will create an XML fragment containing the dialog. A dialog, after all, can be used in more than one view of your app.\n\n\n\n## Preview\n\n  \n  \n**A dialog opens when the new \"Say Hello With Dialog\" button is clicked**\n\n![The graphic has an explanatory text.](images/UI5_Walkthrough_Step_16_0916080.png \"A dialog opens when the new \"Say Hello With Dialog\" button is clicked\")\n\n\n\n<a name=\"loio4b2e306f4bcd4777b068e5a99e007e85__section_kj4_41f_syb\"/>\n\n## Coding\n\nYou can view all files at [OpenUI5 TypeScript Walkthrough - Step 16: Dialogs and Fragments](https://github.com/sap-samples/ui5-typescript-walkthrough/tree/main/steps/16) and [download the solution as a zip file](https://sap-samples.github.io/ui5-typescript-walkthrough/ui5-typescript-walkthrough-step-16.zip).\n\n\n\n<a name=\"loio4b2e306f4bcd4777b068e5a99e007e85__section_pd3_2my_nzb\"/>\n\n## webapp/view/HelloDialog.fragment.xml \\(New\\)\n\nWe add a new XML file to declaratively define our dialog in a fragment. The fragment assets are located in the `core` namespace, so we add an `xml` namespace for it inside the `FragmentDefinition` tag.\n\n```xml\n<core:FragmentDefinition\n   xmlns=\"sap.m\"\n   xmlns:core=\"sap.ui.core\">\n   <Dialog\n      id=\"helloDialog\"\n      title=\"Hello {/recipient/name}\"/>\n</core:FragmentDefinition>\n```\n\nThe syntax is similar to a view, but since fragments do not have a controller this attribute is missing. Also, the fragment does not have any footprint in the DOM tree of the app, and there is no control instance of the fragment itself \\(only the contained controls\\). It is simply a container for a set of reuse controls.\n\n\n\n<a name=\"loio4b2e306f4bcd4777b068e5a99e007e85__section_v4g_hmy_nzb\"/>\n\n## webapp/controller/HelloPanel.controller.ts\n\nIn the `HelloPanel` controller, we define a new event handler function `onOpenDialog`, which calls the dialog in the `HelloDialog` fragment when triggered. To do so, we need to import the `sap.m.Dialog` module.\n\nUsing `async`/`await`, we handle the opening of the dialog asynchronously every time the event is triggered.\n\nIf the dialog fragment does not exist yet, the fragment is instantiated by calling the `loadFragment` API. We then store the dialog on the controller instance. This allows us to reuse the dialog every time the event is triggered.\n\n```js\nimport Controller from \"sap/ui/core/mvc/Controller\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport ResourceModel from \"sap/ui/model/resource/ResourceModel\";\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport Dialog from \"sap/m/Dialog\";\n\n/**\n * @namespace ui5.walkthrough.controller\n */\nexport default class HelloPanel extends Controller {\n    private dialog: Dialog;\n\n    onShowHello(): void {\n        ...\n    }\n    async onOpenDialog(): Promise<void> {\n      this.dialog ??= await this.loadFragment({\n         name: \"ui5.walkthrough.view.HelloDialog\"\n      }) as Dialog;\n      this.dialog.open();\n    }   \n};\n```\n\n> ### Note:  \n> `ui5.walkthrough.controller.BaseController`, which extends `sap.ui.core.mvc.Controller`, and put all your dialog-related coding into this controller. Now, all the other controllers can extend from `ui5.walkthrough.controller.BaseController` instead of `sap.ui.core.mvc.Controller`.\n\n\n\n<a name=\"loio4b2e306f4bcd4777b068e5a99e007e85__section_d5m_ypr_r2b\"/>\n\n## webapp/i18n/i18n.properties\n\nWe add a new text for the button to open the dialog to the text bundle. We will add this button to the `HelloPanel` view in the next step.To reuse the dialog opening and closing functionality in other controllers, you can create a new file\n\n```ini\n# App Descriptor\nappTitle=Hello World\nappDescription=A simple walkthrough app that explains the most important concepts of SAPUI5\n\n# Hello Panel\nshowHelloButtonText=Say Hello\nhelloMsg=Hello {0}\nhomePageTitle=UI5 TypeScript Walkthrough\nhelloPanelTitle=Hello World\nopenDialogButtonText=Say Hello With Dialog\n```\n\n\n\n<a name=\"loio4b2e306f4bcd4777b068e5a99e007e85__section_lj4_41f_syb\"/>\n\n## webapp/view/HelloPanel.view.xml\n\nWe add a new button to the view to open the dialog and assign an unique `id` to it. The button calls the `onOpenDialog` event handler function in the controller of the panel's content view. We assign the new text to the text property of the button and refer its class to `sapUiResponsiveMargin` to pimp up the design.\n\n```xml\n<mvc:View\n   controllerName=\"ui5.walkthrough.controller.HelloPanel\"\n   xmlns=\"sap.m\"\n   xmlns:mvc=\"sap.ui.core.mvc\">\n   <Panel\n      headerText=\"{i18n>helloPanelTitle}\"\n      class=\"sapUiResponsiveMargin\"\n      width=\"auto\" >\n      <content>\n      <Button\n         id=\"helloDialogButton\"\n         text=\"{i18n>openDialogButtonText}\"\n         press=\".onOpenDialog\"\n         class=\"sapUiSmallMarginEnd\"/>\n      <Button\n         text=\"{i18n>showHelloButtonText}\"\n         press=\".onShowHello\"\n         class=\"myCustomButton\"/>\n      <Input\n         value=\"{/recipient/name}\"\n         valueLiveUpdate=\"true\"\n         width=\"60%\"/>\n      <FormattedText\n         htmlText=\"Hello {/recipient/name}\"\n         class=\"sapUiSmallMargin sapThemeHighlight-asColor myCustomText\"/>\n      </content>\n   </Panel>\n</mvc:View>\n```\n\nWe will need the new `id=\"helloDialogButton\"` in [Step 28: Integration Test with OPA](step-28-integration-test-with-opa-9bf4dce.md).\n\nIt is a good practice to set a unique ID like `helloWorldButton`To reuse the dialog opening and closing functionality in other controllers, you can create a new file to key controls of your app so that can be identified easily. If the `id` attribute is not specified, the SAPUI5 runtime generates unique but changing ID like \"\\_\\_button23\" for the control. Inspect the DOM elements of your app in the browser to see the difference.\n\n**Related Information**  \n\n\n[Reusing UI Parts: Fragments](../04_Essentials/reusing-ui-parts-fragments-36a5b13.md \"Fragments are light-weight UI parts (UI sub-trees) which can be reused, defined similar to views, but do not have any controller or other behavior code involved.\")\n\n[Dialogs and other Popups as Fragments](../04_Essentials/dialogs-and-other-popups-as-fragments-448c641.md \"You can use fragments to declaratively define dialogs and other popup controls which are not part of the normal page UI structure.\")\n\n[API Reference: `sap.m.Dialog`](https://ui5.sap.com/#/api/sap.m.Dialog)\n\n[Samples: `sap.m.Dialog`](https://ui5.sap.com/#/entity/sap.m.Dialog)\n\n[Stable IDs: All You Need to Know](../05_Developing_Apps/stable-ids-all-you-need-to-know-f51dbb7.md \"Stable IDs are IDs for controls, elements, or components that you set yourself in the respective id property or attribute as opposed to IDs that are generated by SAPUI5. Stable means that the IDs are concatenated with the application component ID and do not have any auto-generated parts.\")\n\n[Instantiation of Fragments](../04_Essentials/instantiation-of-fragments-04129b2.md \"SAPUI5 provides two options to instantiate a fragment: If it is instantiated inside a controller extending sap.ui.core.mvc.Controller, the loadFragment() function is the way to go. However, if it is instantiated in a non-controller artefact, the generic function sap.ui.core.Fragment.load() can be used.\")\n\n",
  "excerpt": "<!-- loio4b2e306f4bcd4777b068e5a99e007e85 --> Step 16: Dialogs and Fragments \\(TypeScript\\) In this step, we will take a closer look at another element which can be used to assemble views: the fragmen...",
  "wordCount": 1050,
  "version": "1.0.0",
  "source": "sapui5",
  "sourceType": "github"
}