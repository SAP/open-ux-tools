{
  "id": "sapui5-docs-04-essentials-code-coverage-measurement-7ef3242-md",
  "title": "Code Coverage Measurement",
  "category": "ui5-framework",
  "path": "docs/04_Essentials/code-coverage-measurement-7ef3242.md",
  "lastModified": "2025-09-01T18:17:10.495Z",
  "tags": [
    "ui5-framework",
    "md",
    "Code",
    "Coverage",
    "Measurement"
  ],
  "headers": [
    "Code Coverage Measurement",
    "Istanbul",
    "Enablement",
    "Configuration",
    "Results",
    "Blanket.js \\(Legacy\\)",
    "Enablement",
    "Configuration",
    "Results"
  ],
  "content": "<!-- loio7ef32428dc7c4c048a8d7e8de0a556fb -->\n\n# Code Coverage Measurement\n\nYou can measure the code coverage either via HTML or JavaScript code using a code coverage tool like `Istanbul` \\(default\\) or `Blanket.js` \\(legacy\\).\n\n\n\n<a name=\"loio7ef32428dc7c4c048a8d7e8de0a556fb__section_STAMBUL\"/>\n\n## Istanbul\n\n`Istanbul` offers code coverage and instrumentation for JavaScript files. It also supports branching and correctly identifies visited scopes in conditional clauses.\n\n[UI5 Middleware Code Coverage](https://github.com/SAP/ui5-tooling-extensions/tree/main/packages/middleware-code-coverage) is a [UI5 server](https://sap.github.io/ui5-tooling/stable/pages/Server/) middleware that enables [`Istanbul`](https://istanbul.js.org/) in UI5 Tooling.\n\nIf you use UI5 Tooling's `ui5 serve`, you would need to enable it in `ui5.yaml` and `package.json` of your project.\n\nFor more information, see the [documentation](https://github.com/SAP/ui5-tooling-extensions/tree/main/packages/middleware-code-coverage).\n\n\n\n### Enablement\n\nYou have two options to enable code coverage measurement by `Istanbul`:\n\n-   **HTML:**\n\n    In your HTML file bootstrapping your tests, you have to add the following line to the head tag:\n\n    ```html\n    <script type=\"text/javascript\" src=\"../../resources/sap/ui/qunit/qunit-coverage-istanbul.js\"></script>\n    ```\n\n-   **JS:**\n\n    Inside your test page, you have to add these lines before running the tests:\n\n    ```\n    sap.ui.require([\"sap/ui/qunit/qunit-coverage-istanbul\"], function(/*coverage*/){\n        // code\n    });\n    ```\n\n\n\n\n### Configuration\n\nBy default all files that are executed during the test run are instrumented and added to the result. If you would like to limit the instrumented files, you can use the following code \\(use either the HTML or the JS option\\):\n\n-   Limit instrumentation to a single file:\n\n    **HTML:**\n\n    ```html\n    <script type=\"text/javascript\" src=\"../../resources/sap/ui/qunit/qunit-coverage-istanbul.js\"\n    \tdata-sap-ui-cover-only=\"sap/ui/core/Popup.js\"\n    ></script>\n    ```\n\n    **JS:**\n\n    ```\n        var oScript = document.querySelector('script[src$=\"qunit/qunit-coverage-istanbul.js\"]');\n        if (oScript) {\n            oScript.setAttribute(\"data-sap-ui-cover-only\", \"sap/ui/core/Popup.js\");\n        }\n    ```\n\n-   Limit instrumentation to multiple files \\(provide an array with comma-separated sources that should occur in the result\\):\n\n    **HTML:**\n\n    ```html\n    <script type=\"text/javascript\" src=\"../../resources/sap/ui/qunit/qunit-coverage-istanbul.js\"\n    \tdata-sap-ui-cover-only=\"[sap/ui/core/Popup.js, sap/ui/core/EventProvider]\"\n    ></script>\n    ```\n\n    **JS:**\n\n    ```\n        var oScript = document.querySelector('script[src$=\"qunit/qunit-coverage-istanbul.js\"]');\n        if (oScript) {\n            oScript.setAttribute(\"data-sap-ui-cover-only\", \"['sap/ui/core/Popup.js', 'sap/ui/core/EventProvider']\");\n        }\n    ```\n\n-   Limit instrumentation to a specific library:\n\n    **HTML:**\n\n    ```html\n    <script type=\"text/javascript\" src=\"../../resources/sap/ui/qunit/qunit-coverage-istanbul.js\"\n    \tdata-sap-ui-cover-only=\"sap/ui/core/\"\n    ></script>\n    ```\n\n    **JS:**\n\n    ```\n        var oScript = document.querySelector('script[src$=\"qunit/qunit-coverage-istanbul.js\"]');\n        if (oScript) {\n            oScript.setAttribute(\"data-sap-ui-cover-only\", \"sap/ui/core/\");\n        }\n    ```\n\n-   Exclude specific objects:\n\n    **HTML:**\n\n    ```html\n    <script type=\"text/javascript\" src=\"../../resources/sap/ui/qunit/qunit-coverage-istanbul.js\"\n    \tdata-sap-ui-cover-never=\"sap/ui/example/thirdparty/\"\n    ></script>\n    ```\n\n    **JS:**\n\n    ```\n        var oScript = document.querySelector('script[src$=\"qunit/qunit-coverage-istanbul.js\"]');\n        if (oScript) {\n            oScript.setAttribute(\"data-sap-ui-cover-never\", \"sap/ui/example/thirdparty/\");\n        }\n    ```\n\n\n\n\n### Results\n\nTo view the results of the measurement, select the *Enable coverage* checkbox on the test page. This will trigger a new test run.\n\nIn this example the coverage is limited to one specific file - the only one that is important for this test.\n\n![](images/Istanbul_Code_Coverage_8b7a4a5.png)\n\n\n\n## Blanket.js \\(Legacy\\)\n\n`Blanket.js` offers code coverage and instrumentation for JavaScript up to ECMAScript Language Specification 5. As of SAPUI5 version 1.113.0, code coverage measurement via [`Istanbul`](code-coverage-measurement-7ef3242.md#loio7ef32428dc7c4c048a8d7e8de0a556fb__section_STAMBUL) is the recommended option.\n\n\n\n### Enablement\n\nYou have two options to enable code coverage measurement by `Blanket.js`:\n\n-   **HTML**\n\n    In your HTML file bootstrapping your tests, you have to add the following line to the head tag:\n\n    ```html\n    <script type=\"text/javascript\" src=\"../../resources/sap/ui/qunit/qunit-coverage.js\"></script>\n    ```\n\n-   **JS**\n\n    Inside your test page, you have to add these lines before running the tests:\n\n    ```\n    sap.ui.require([\"sap/ui/qunit/qunit-coverage\"], function(/*coverage*/){\n        // code\n    });\n    ```\n\n\n\n\n### Configuration\n\nBy default all files that are executed during the test run are instrumented and added to the result. If you would like to limit the instrumented files, you can use the following code \\(use either the HTML or the JS option\\):\n\n-   Limit instrumentation to a single file:\n\n    **HTML:**\n\n    ```html\n    <script type=\"text/javascript\" src=\"../../resources/sap/ui/qunit/qunit-coverage.js\"\n    \tdata-sap-ui-cover-only=\"sap/ui/core/Popup.js\"\n    ></script>\n    ```\n\n    **JS:**\n\n    ```\n    if (window.blanket) {\n    \tblanket.options(\"sap-ui-cover-only\", \"sap/ui/core/Popup.js\");\n    }\n    ```\n\n-   Limit instrumentation to multiple files \\(provide an array with comma-separated sources that should occur in the result\\):\n\n    **HTML:**\n\n    ```html\n    <script type=\"text/javascript\" src=\"../../resources/sap/ui/qunit/qunit-coverage.js\"\n    \tdata-sap-ui-cover-only=\"[sap/ui/core/Popup.js, sap/ui/core/EventProvider]\"\n    ></script>\n    ```\n\n    **JS:**\n\n    ```\n    if (window.blanket) {\n    \tblanket.options(\"sap-ui-cover-only\", \"[sap/ui/core/Popup.js, sap/ui/core/EventProvider]\");\n    }\n    ```\n\n-   Limit instrumentation to a specific library:\n\n    **HTML:**\n\n    ```html\n    <script type=\"text/javascript\" src=\"../../resources/sap/ui/qunit/qunit-coverage.js\"\n    \tdata-sap-ui-cover-only=\"sap/ui/core/\"\n    ></script>\n    ```\n\n    **JS:**\n\n    ```\n    if (window.blanket) {\n    \tblanket.options(\"sap-ui-cover-only\", \"sap/ui/core/\");\n    }\n    ```\n\n-   Exclude specific objects:\n\n    **HTML:**\n\n    ```html\n    <script type=\"text/javascript\" src=\"../../resources/sap/ui/qunit/qunit-coverage.js\"\n    \tdata-sap-ui-cover-never=\"sap/ui/example/thirdparty/\"\n    ></script>\n    ```\n\n    **JS:**\n\n    ```\n    if (window.blanket) {\n    \tblanket.options(\"sap-ui-cover-never\", \"sap/ui/example/thirdparty/\");\n    }\n    ```\n\n\n\n\n### Results\n\nTo view the results of the measurement, select the *Enable coverage* checkbox on the test page. This will trigger a new test run.\n\nIn this example the coverage is limited to one specific file - the only one that is important for this test.\n\n![](images/QUnit_Code_Coverage_358de53.jpg)\n\n**Related Information**  \n\n\n[`UI5 Middleware Code Coverage`](https://github.com/SAP/ui5-tooling-extensions/blob/-/packages/middleware-code-coverage)\n\n[More information about `Blanket.js`](https://github.com/alex-seville/blanket/blob/-/docs/intermediate_browser.md)\n\n",
  "excerpt": "<!-- loio7ef32428dc7c4c048a8d7e8de0a556fb --> Code Coverage Measurement You can measure the code coverage either via HTML or JavaScript code using a code coverage tool like Istanbul \\(default\\) or Bla...",
  "wordCount": 668,
  "version": "1.0.0",
  "source": "sapui5",
  "sourceType": "github"
}