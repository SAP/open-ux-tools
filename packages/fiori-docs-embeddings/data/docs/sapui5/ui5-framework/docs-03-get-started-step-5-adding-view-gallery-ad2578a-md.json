{
  "id": "sapui5-docs-03-get-started-step-5-adding-view-gallery-ad2578a-md",
  "title": "Step 5: Adding View Gallery",
  "category": "ui5-framework",
  "path": "docs/03_Get-Started/step-5-adding-view-gallery-ad2578a.md",
  "lastModified": "2025-09-01T18:17:10.476Z",
  "tags": [
    "ui5-framework",
    "md",
    "Step",
    "Adding",
    "View",
    "Gallery"
  ],
  "headers": [
    "Step 5: Adding View Gallery",
    "Preview",
    "Coding",
    "index.html",
    "Component.js",
    "i18n.properties",
    "manifest.json",
    "App.view.xml",
    "App.controller.js",
    "API Reference"
  ],
  "content": "<!-- loioad2578a13a2e480185d973d8f55ff3d5 -->\n\n# Step 5: Adding View Gallery\n\nIn this step, you will be adding the `sap.ui.vk.ViewGallery` control to a 3D Viewer application.\n\n> ### Note:  \n> The *sap.ui.vk.ViewGallery* control is the successor of the *sap.ui.vk.StepNavigation* control. The *sap.ui.vk.StepNavigation* control can only be used with the legacy DVL rendering engine. All new applications should switch to ThreeJs rendering engine and *sap.ui.vk.ViewGallery* control.\n\nSometimes, you may encounter a 3D model that has a sequence of animations associated with it. The `ViewGallery` control allows you to display the steps in the animation sequence, navigate to the individual steps in the animation sequence, and play the animation in a single step or in all of the steps.\n\nThe content in this step builds on the code from [Step 4: Adding a Scene Tree](step-4-adding-a-scene-tree-773a008.md), and code changes performed in this step of the tutorial are done in relation to the files in [Step 4: Adding a Scene Tree](step-4-adding-a-scene-tree-773a008.md).\n\n\n\n## Preview\n\n  \n  \n**Viewer application with a View Gallery, Viewport, and Scene Tree**\n\n![](images/Image_SAPUI5_3D_Viewer_5_a0285c1.png \"Viewer application with a View Gallery, Viewport, and Scene Tree\")\n\n\n\n## Coding\n\nYou can view and download all files at [3D Viewer - Step 5 - Add Step Navigation control](https://ui5.sap.com/#/entity/sap.ui.vk.tutorial.VIT/sample/sap.ui.vk.tutorial.VIT.05).\n\n\n\n\n\n### index.html\n\nUpdate the `index.html` file to reference the `viewportScenetreeStepnav` namespace, which will be the namespace we'll use for the sample application in this step.\n\n```html\n<!DOCTYPE HTML>\n<html>\n    <head>\n        <meta http-equiv=\"Content-Type\" content=\"text/html;charset=UTF-8\"/>\n    <script id=\"sap-ui-bootstrap\"\n        src=\"https://ui5.sap.com/resources/sap-ui-core.js\"\n        data-sap-ui-theme=\"sap_horizon\"\n        data-sap-ui-compat-version=\"edge\"\n        data-sap-ui-async=\"true\"\n        data-sap-ui-libs=\"sap.ui.vk, sap.m, sap.ui.core\"\n        data-sap-ui-resource-roots='{\n            \"viewportScenetreeStepnav\": \"./\"\n        }'>\n    </script>\n    <script>\n    sap.ui.getCore().attachInit(function(){\n        new sap.m.Shell({\n            app: new sap.ui.core.ComponentContainer({\n                name : \"viewportScenetreeStepnav\"\n            })\n        }).placeAt(\"content\");\n    });\n    </script>\n    </head>\n    <body id=\"content\" class=\"sapUiBody\">\n    </body>\n</html>\n```\n\n\n\n### Component.js\n\nUpdate the `Component.js` file to reference the namespace specified for this application.\n\n```js\nsap.ui.define([\n    \"sap/ui/core/UIComponent\"\n], function (UIComponent) {\n    \"use strict\";\n    return UIComponent.extend(\"viewportScenetreeStepnav.Component\", {\n        metadata: {\n            manifest: \"json\"\n        },\n        init: function () {\n            // call the init function of the parent\n            UIComponent.prototype.init.apply(this, arguments);\n        }\n    });\n});\n```\n\n\n\n### i18n.properties\n\nBecause we are not creating any fields that a user can interact with, we only have one line of code which specifies what the label for the page title is.\n\n```ini\n# Page Descriptor\npageTitle=Viewport with Scene Tree and View Gallery\n```\n\n\n\n### manifest.json\n\nUpdate the `manifest.json` file so that it references the correct files.\n\n```js\n{\n    \"_version\": \"1.8.0\",\n    \"sap.app\": {\n        \"id\": \"viewportScenetreeStepnav\",\n        \"type\": \"application\",\n        \"i18n\": \"i18n/i18n.properties\",\n        \"title\": \"{{appTitle}}\",\n        \"description\": \"{{appDescription}}\",\n        \"applicationVersion\": {\n            \"version\": \"1.0.0\"\n        }\n    },\n    \"sap.ui\": {\n        \"technology\": \"UI5\",\n        \"deviceTypes\": {\n            \"desktop\": true,\n            \"tablet\": true,\n            \"phone\": true\n        }\n    },\n    \"sap.ui5\": {\n        \"rootView\": \"viewportScenetreeStepnav.view.App\",\n        \"dependencies\": {\n            \"minUI5Version\": \"1.30\",\n            \"libs\": {\n                \"sap.m\": {}\n            }\n        },\n        \"models\": {\n            \"i18n\": {\n                \"type\": \"sap.ui.model.resource.ResourceModel\",\n                \"settings\": {\n                    \"bundleName\": \"viewportScenetreeStepnav.i18n.i18n\"\n                }\n            }\n        }\n    }\n\n```\n\n\n\n### App.view.xml\n\nIn this file, we have added a \\`<vk:ViewGallery\\>\\` element to this file. We use this file to specify the width and height of the `ViewGallery` control on the screen.\n\n```xml\n<mvc:View\n        controllerName=\"viewportScenetreeStepnav.controller.App\"\n        xmlns=\"sap.m\"\n        xmlns:mvc=\"sap.ui.core.mvc\"\n        xmlns:vk=\"sap.ui.vk\"\n        xmlns:l=\"sap.ui.layout\"\n        xmlns:f=\"sap.ui.layout.form\"\n        xmlns:u=\"sap.ui.unified\"\n        displayBlock=\"true\">\n    <App id=\"viewportScenetreeStepnav\">\n        <Page\n                title=\"{i18n>pageTitle}\">\n                <vk:ViewGallery\n                id=\"ViewGallery\" />\n            <vk:Viewport\n                    id=\"viewport\"\n                    width=\"100%\"\n                    height=\"50%\"/>\n            <vk:SceneTree\n                    id=\"scenetree\" />\n        </Page>\n    </App>\n</mvc:View>\n```\n\n\n\n### App.controller.js\n\nThe highlighted sections in the following code block indicate the additions and changes made in the code to incorporate step navigation in the 3D Viewer application.\n\n```js\nsap.ui.define([\n    \"sap/base/Log\",\n    \"sap/ui/core/mvc/Controller\",\n    \"sap/ui/vk/ContentResource\",\n    \"sap/ui/vk/ContentConnector\",\n    \"sap/ui/vk/ViewStateManager\",\n    \"sap/ui/vk/AnimationPlayer\",\n    \"sap/ui/vk/ViewManager\"\n], function (Log, Controller, ContentResource, ContentConnector, ViewStateManager, AnimationPlayer, ViewManager) {   \n    \"use strict\";\n    var contentResource = new ContentResource({\n        source: \"models/cooper.vds\",\n        sourceType: \"vds4\",\n        id: \"abc123\"\n    });\n    return Controller.extend(\"viewportScenetreeStepnav.controller.App\", {\n        onInit: function() {\n            var view = this.getView();\n            var viewport = view.byId(\"viewport\");\n            var sceneTree = view.byId(\"scenetree\");\n            var viewGallery = view.byId (\"ViewGallery\");\n            var contentConnector = new ContentConnector();\n            var viewStateManager = new ViewStateManager({\n                contentConnector: contentConnector\n            \n            });\n            var animationPlayer = new AnimationPlayer({\n                viewStateManager: viewStateManager\n            });\n    \n            var viewManager = new ViewManager({\n                contentConnector: contentConnector,\n                animationPlayer: animationPlayer\n            });\n            viewStateManager.setViewManager(viewManager);\n            viewport.setContentConnector(contentConnector);\n            viewport.setViewStateManager(viewStateManager);\n            sceneTree.setContentConnector(contentConnector);\n            sceneTree.setViewStateManager(viewStateManager);\n            viewGallery.setContentConnector(contentConnector);\n            viewGallery.setHost(viewport);\n            viewGallery.setViewManager(viewManager);\n            contentConnector.addContentResource(contentResource);\n        }\n    });\n});\n```\n\nLet us look at the changes in more detail.\n\nThe following line of code gets reference to a new `ViewGallery` object.\n\n```js\nvar stepNavigation = view.byId (\"ViewGallery\");\n```\n\nWe then wire several objects with the `ViewGallery` object, so that the animation sequences in the model are displayed in the `ViewGallery` control.\n\n```js\nvar animationPlayer = new AnimationPlayer({\n    viewStateManager: viewStateManager\n});\nvar viewManager = new ViewManager({\n    contentConnector: contentConnector,\n    animationPlayer: animationPlayer\n});\nviewStateManager.setViewManager(viewManager);\n```\n\nThe `ViewGallery` control also needs a reference to `ContentConnector` to be able to react on scene loading events. We also need to associate `ViewGallery` with `Viewport`:\n\n```js\nviewGallery.setContentConnector(contentConnector);\nviewGallery.setHost(viewport);\nviewGallery.setViewManager(viewManager);\n```\n\nNow we can run our application and see a model loaded in the Viewport, and now we can also see thumbnail images for animated views \\(steps\\) displayed in the View Gallery. By clicking on any of the thumbnails we can activate an animation from that view.\n\n\n\n## API Reference\n\n-   [`sap.ui.vk.ViewGallery`](https://ui5.sap.com/#/api/sap.ui.vk.ViewGallery)\n\n**Related Information**  \n\n\n[View Gallery](../10_More_About_Controls/view-gallery-4717af4.md \"\")\n\n",
  "excerpt": "<!-- loioad2578a13a2e480185d973d8f55ff3d5 --> Step 5: Adding View Gallery In this step, you will be adding the sap.ui.vk.ViewGallery control to a 3D Viewer application. > Note:   > The sap.ui.vk.ViewG...",
  "wordCount": 784,
  "version": "1.0.0",
  "source": "sapui5",
  "sourceType": "github"
}