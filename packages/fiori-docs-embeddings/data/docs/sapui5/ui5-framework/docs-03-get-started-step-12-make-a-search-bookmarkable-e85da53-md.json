{
  "id": "sapui5-docs-03-get-started-step-12-make-a-search-bookmarkable-e85da53-md",
  "title": "Step 12: Make a Search Bookmarkable",
  "category": "ui5-framework",
  "path": "docs/03_Get-Started/step-12-make-a-search-bookmarkable-e85da53.md",
  "lastModified": "2025-09-01T18:17:10.452Z",
  "tags": [
    "ui5-framework",
    "md",
    "Step",
    "Make",
    "Search",
    "Bookmarkable"
  ],
  "headers": [
    "Step 12: Make a Search Bookmarkable",
    "Preview",
    "Coding",
    "webapp/manifest.json",
    "webapp/controller/employee/overview/EmployeeOverviewContent.controller.js"
  ],
  "content": "<!-- loioe85da535ea19430a90c381f3c2bd748e -->\n\n# Step 12: Make a Search Bookmarkable\n\nIn this step we will make the search bookmarkable. This allows users to search for employees in the *Employees* table and they can bookmark their search query or share the URL.\n\n\n\n## Preview\n\n  \n  \n**Search and sorting bookmarkable**\n\n![](images/Tutorial_Navigation_and_Routing_Step_12_feb2ddd.png \"Search and sorting bookmarkable\")\n\n\n\n## Coding\n\nYou can view and download all files in the *Samples* in the Demo Kit at [Routing and Navigation - Step 12](https://ui5.sap.com/#/entity/sap.ui.core.tutorial.navigation/sample/sap.ui.core.tutorial.navigation.12) .\n\n\n\n## webapp/manifest.json\n\n```js\n{\n\t\"_version\": \"1.12.0\",\n\t\"sap.app\": {\n\t\t...\n\t},\n\t\"sap.ui\": {\n\t\t...\n\t},\n\t\"sap.ui5\": {\n\t\t...\n\t\t\"routing\": {\n\t\t\t\"config\": {\n\t\t\t\t\"routerClass\": \"sap.m.routing.Router\",\n\t\t\t\t\"type\": \"View\",\n\t\t\t\t\"viewType\": \"XML\",\n\t\t\t\t\"path\": \"sap.ui.demo.nav.view\",\n\t\t\t\t\"controlId\": \"app\",\n\t\t\t\t\"controlAggregation\": \"pages\",\n\t\t\t\t\"transition\": \"slide\",\n\t\t\t\t\"bypassed\": {\n\t\t\t\t\t\"target\": \"notFound\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"routes\": [{\n\t\t\t\t\"pattern\": \"\",\n\t\t\t\t\"name\": \"appHome\",\n\t\t\t\t\"target\": \"home\"\n\t\t\t}, {\n\t\t\t\t\"pattern\": \"employees\",\n\t\t\t\t\"name\": \"employeeList\",\n\t\t\t\t\"target\": \"employees\"\n\t\t\t}, {\n\t\t\t\t\"pattern\": \"employees/overview:?query:\",\n\t\t\t\t\"name\": \"employeeOverview\",\n\t\t\t\t\"target\": [\"employeeOverviewTop\", \"employeeOverviewContent\"]\n\n\t\t\t}, {\n\t\t\t\t\"pattern\": \"employees/{employeeId}\",\n\t\t\t\t\"name\": \"employee\",\n\t\t\t\t\"target\": \"employee\"\n\t\t\t}, {\n\t\t\t\t\"pattern\": \"employees/{employeeId}/resume:?query:\",\n\t\t\t\t\"name\": \"employeeResume\",\n\t\t\t\t\"target\": \"employeeResume\"\n\t\t\t}],\n\t\t\t\"targets\": {\n\t\t\t\t...\n\t\t\t}\n\t\t}\n\t}\n}\n```\n\nIn order to make the search bookmarkable we have to think about how the pattern of the corresponding route should match the bookmark. We decide to allow `/#/employees/overview?search=mySearchQueryString` in order to bookmark a search. Therefore, we simply extend our routing configuration a little. We add the optional `:?query:` parameter to the route `employeeOverview`. We keep in mind that we want to use `search` as the URL parameter for the search term that was entered in the search field.\n\n\n\n## webapp/controller/employee/overview/EmployeeOverviewContent.controller.js\n\n```js\nsap.ui.define([\n\t\"sap/ui/demo/nav/controller/BaseController\",\n\t\"sap/ui/model/Filter\",\n\t\"sap/ui/model/FilterOperator\",\n\t\"sap/ui/model/Sorter\",\n\t\"sap/m/ViewSettingsDialog\",\n\t\"sap/m/ViewSettingsItem\"\n], function(\n\tBaseController,\n\tFilter,\n\tFilterOperator,\n\tSorter,\n\tViewSettingsDialog,\n\tViewSettingsItem\n) {\n\t\"use strict\";\n\n\treturn BaseController.extend(\"sap.ui.demo.nav.controller.employee.overview.EmployeeOverviewContent\", {\n\n\t\tonInit: function () {\n\t\t\tvar oRouter = this.getRouter();\n\n\t\t\tthis._oTable = this.byId(\"employeesTable\");\n\t\t\tthis._oVSD = null;\n\t\t\tthis._sSortField = null;\n\t\t\tthis._bSortDescending = false;\n\t\t\tthis._aValidSortFields = [\"EmployeeID\", \"FirstName\", \"LastName\"];\n\t\t\tthis._sSearchQuery = null;\n\t\t\tthis._oRouterArgs = null;\n\n\n\t\t\tthis._initViewSettingsDialog();\n\n\t\t\t// make the search bookmarkable\n\t\t\toRouter.getRoute(\"employeeOverview\").attachMatched(this._onRouteMatched, this);\n\n\t\t},\n\n\t\t_onRouteMatched: function (oEvent) {\n\t\t\t// save the current query state\n\t\t\tthis._oRouterArgs = oEvent.getParameter(\"arguments\");\n\t\t\tthis._oRouterArgs[\"?query\"] = this._oRouterArgs[\"?query\"] || {};\n\n\t\t\t// search/filter via URL hash\n\t\t\tthis._applySearchFilter(this._oRouterArgs[\"?query\"].search);\n\t\t},\n\n\n\t\tonSortButtonPressed : function (oEvent) {\n\t\t\tthis._oVSD.open();\n\t\t},\n\n\t\tonSearchEmployeesTable : function (oEvent) {\n\t\t\tvar oRouter = this.getRouter();\n\t\t\t// update the hash with the current search term\n\t\t\tthis._oRouterArgs[\"?query\"].search = oEvent.getSource().getValue();\n\t\t\toRouter.navTo(\"employeeOverview\", this._oRouterArgs, true /*no history*/);\n\t\t},\n\t\t...\n\t});\n});\n```\n\nNow we handle the optional query parameter from the `employeeOverview` route in our `EmployeeOverviewContent` controller. First we change the `onInit` function by adding an event listener for the matched event of the `employeeOverview` route. Then we buffer the current router arguments as received from the event. If a query is available, the result from `oEvent.getParameter(\"arguments\")` will contain a `?query` property with an object of all URL parameters specified, otherwise it is undefined. If no query parameter is defined, we always initialize the query and save it to `this._oRouterArgs[\"?query\"]`. If we have a search term query at the `search` key we continue and call `this._applySearchFilter(this._oRouterArgs[\"?query\"].search)` to trigger a search based on the search query parameter from the URL.\n\nStoring the `arguments` objects internally in the controller is important, because we will use the current arguments when calling `navTo()` in the search event handler `onSearchEmployeesTable` and pass on the arguments with the updated search term. We keep the URL and the UI in sync by navigating to the current target again with the current value of the search field from the event's source. The search value is stored in `this._oRouterArgs[\"?query\"].search` together with the other query parameters and it is passed directly to the router again\n\nThat's it, now our search is bookmarkable and reflected in the URL. Try to access the following pages in your browser:\n\n-   `webapp/index.html#/employees/overview`\n\n-   `webapp/index.html#/employees/overview?search=`\n\n-   `webapp/index.html#/employees/overview?search=an`\n\n\nWhen you change the value in the search field, you see that the hash updates accordingly.\n\n",
  "excerpt": "<!-- loioe85da535ea19430a90c381f3c2bd748e --> Step 12: Make a Search Bookmarkable In this step we will make the search bookmarkable. This allows users to search for employees in the Employees table an...",
  "wordCount": 620,
  "version": "1.0.0",
  "source": "sapui5",
  "sourceType": "github"
}