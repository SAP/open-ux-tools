{
  "id": "sapui5-docs-03-get-started-step-3-3d-viewer-using-the-viewport-control-112d7b4-md",
  "title": "Step 3: 3D Viewer Using the Viewport Control",
  "category": "ui5-framework",
  "path": "docs/03_Get-Started/step-3-3d-viewer-using-the-viewport-control-112d7b4.md",
  "lastModified": "2025-09-01T18:17:10.466Z",
  "tags": [
    "ui5-framework",
    "md",
    "Step",
    "Viewer",
    "Using",
    "the",
    "Viewport",
    "Control"
  ],
  "headers": [
    "Step 3: 3D Viewer Using the Viewport Control",
    "Preview",
    "Coding",
    "index.html",
    "Component.js",
    "i18n.properties",
    "manifest.json",
    "App.view.xml",
    "App.controller.js",
    "API Reference"
  ],
  "content": "<!-- loio112d7b417e914a5a951abc6411d6f6c4 -->\n\n# Step 3: 3D Viewer Using the Viewport Control\n\nIn this step, you will be creating a 3D Viewer application using the `sap.ui.vk.Viewport` control.\n\nIn previous steps, we utilized the `sap.ui.vk.Viewer` composite control to create a Viewer application capable of loading a 2D or 3D resource. Now, we will create a Viewer application with a pre-loaded resource without using the composite `sap.ui.vk.Viewer` control. Instead, we will use the following controls and library in `sap.ui.vk`, which are what you'll need at a minimum to display a 3D model in your application.\n\n-   `Viewport` control\n-   `ContentResource` control\n-   `ContentConnector` library\n\nWe will build on this sample application in later steps of the 3D Viewer tutorial by introducing the other non-composite `sap.ui.vk` controls to create more complex Viewer applications.\n\n\n\n## Preview\n\n  \n  \n**Viewer application that consists solely of a Viewport**\n\n![](images/3D_Viewer_Tutorial_Step_03_-_Preview_2864ebc.png \"Viewer application that consists solely of a Viewport\")\n\n\n\n## Coding\n\nYou can view and download all files at [3D Viewer - Step 3 - 3D Viewer Using the Viewport Control](https://ui5.sap.com/#/entity/sap.ui.vk.tutorial.VIT/sample/sap.ui.vk.tutorial.VIT.03).\n\n\n\n### index.html\n\nUpdate the `index.html` file to reference the `standaloneViewport` namespace, which will be the namespace we'll use for the sample application in this step.\n\n```html\n<!DOCTYPE HTML>\n<html>\n    <head>\n        <meta http-equiv=\"Content-Type\" content=\"text/html;charset=UTF-8\"/>\n        <script id=\"sap-ui-bootstrap\"\n            src=\"https://ui5.sap.com/resources/sap-ui-core.js\"\n        data-sap-ui-theme=\"sap_horizon\"\n        data-sap-ui-compat-version=\"edge\"\n        data-sap-ui-async=\"true\"\n        data-sap-ui-libs=\"sap.ui.vk\"\n            data-sap-ui-resource-roots='{\n                \"standaloneViewport\": \"./\"\n            }'>\n        </script>\n        <script>\n        sap.ui.getCore().attachInit(function(){\n            new sap.m.Shell({\n                app: new sap.ui.core.ComponentContainer({\n                    name : \"standaloneViewport\"\n                })\n            }).placeAt(\"content\");\n        });\n        </script>\n    </head>\n    <body id=\"content\" class=\"sapUiBody\">\n    </body>\n</html>\n```\n\n\n\n### Component.js\n\nUpdate the `Component.js` file to reference the namespace specified for this application.\n\n```js\nsap.ui.define([\n        \"sap/ui/core/UIComponent\"\n], function (UIComponent) {\n        \"use strict\";\n        return UIComponent.extend(\"standaloneViewport.Component\", {\n        metadata: {\n            manifest: \"json\"\n        },\n        init: function () {\n            // call the init function of the parent\n            UIComponent.prototype.init.apply(this, arguments);\n        }\n    });\n});\n```\n\n\n\n### i18n.properties\n\nBecause we are not creating any fields that a user can interact with, we only have one line of code which specifies the label for the page title.\n\n```ini\n# Page Descriptor\npageTitle=Standalone Viewport\n```\n\n\n\n### manifest.json\n\nUpdate the `manifest.json` file so that it references the correct files.\n\n```js\n{\n    \"_version\": \"1.8.0\",\n    \"sap.app\": {\n        \"id\": \"standaloneViewport\",\n        \"type\": \"application\",\n        \"i18n\": \"i18n/i18n.properties\",\n        \"title\": \"{{appTitle}}\",\n        \"description\": \"{{appDescription}}\",\n        \"applicationVersion\": {\n            \"version\": \"1.0.0\"\n        }\n    },\n    \"sap.ui\": {\n        \"technology\": \"UI5\",\n        \"deviceTypes\": {\n            \"desktop\": true,\n            \"tablet\": true,\n            \"phone\": true\n        }\n    },\n    \"sap.ui5\": {\n        \"rootView\": \"standaloneViewport.view.App\",\n        \"dependencies\": {\n            \"minUI5Version\": \"1.30\",\n            \"libs\": {\n                \"sap.m\": {}\n            }\n        },\n        \"models\": {\n            \"i18n\": {\n                \"type\": \"sap.ui.model.resource.ResourceModel\",\n                \"settings\": {\n                    \"bundleName\": \"standaloneViewport.i18n.i18n\"\n                }\n            }\n        }\n    }\n}\n```\n\n\n\n### App.view.xml\n\nBecause the Viewport is the only item that we need to display on the application screen, we only need to have the `<vk:Viewport>` element added to this file. In the element's attributes, we specify the Viewport's width and height on the screen, and also give it an arbitrary identifier value.\n\n```xml\n<mvc:View\n        controllerName=\"standaloneViewport.controller.App\"\n        xmlns=\"sap.m\"\n        xmlns:mvc=\"sap.ui.core.mvc\"\n        xmlns:vk=\"sap.ui.vk\"\n        xmlns:l=\"sap.ui.layout\"\n        xmlns:f=\"sap.ui.layout.form\"\n        xmlns:u=\"sap.ui.unified\"\n        displayBlock=\"true\">\n    <App id=\"standaloneViewport\">\n        <Page\n            title=\"{i18n>pageTitle}\">\n            <vk:Viewport\n                    id=\"viewport\"\n                    width=\"100%\"\n                    height=\"85%\"/>\n        </Page>\n    </App>\n</mvc:View>\n```\n\n\n\n### App.controller.js\n\nThe logic in this `App.controller.js` file can be summarized as follows:\n\n1.  Create a Content Resource that stores a pre-specified model\n2.  Initiate a scene in our application in the following order:\n    1.  Create a Content Connector instance\n    2.  Create a Viewport that is bound to the Content Connector instance\n    3.  Load the Content Resource to the Content Connector for rendering on the Viewport\n\n\n```js\nsap.ui.define([\n    \"sap/base/Log\",\n    \"sap/ui/core/mvc/Controller\",\n    \"sap/ui/vk/ContentResource\",\n    \"sap/ui/vk/ContentConnector\"\n], function (Log, Controller, ContentResource, ContentConnector) {\n    \"use strict\";\n\n    var contentResource = new sap.ui.vk.ContentResource({\n        source: \"/models/boxTestModel.vds\",\n        sourceType: \"vds4\",\n        id: \"abc123\"\n    });\n\n    return Controller.extend(\"standaloneViewport.controller.App\",{\n        onInit: function() {\n            var view = this.getView();\n            var viewport = view.byId(\"viewport\");\n            var contentConnector = new ContentConnector({\n                contentChangesFinished: function(event) {\n                    var failureReason = event.getParameter(\"failureReason\");\n                    if (failureReason) {\n                        Log.error(\"Some of content resources cannot be loaded: \" + failureReason);\n                    } else {\n                        Log.info(\"Scene successfully loaded\");\n                    }\n                }\n            });\n            viewport.setContentConnector(contentConnector);\n            contentConnector.addContentResource(contentResource);\n        }\n    });\n});\n```\n\nWe'll now break the code down to look at each part in more detail.\n\n**Create a New Content Resource** \n\nCreate a `contentResource` object that specifies the resource to load. In this case, we're pre-loading the `boxTestModel.vds` model into the application. This occurs before the scene in our Viewer application is initiated. Once again we are using `vds4` as the value for `sourceType` to use the ThreeJs rendering engine.\n\n```js\nsap.ui.define([\n    \"sap/ui/core/mvc/Controller\",\n    \"sap/ui/vk/ContentResource\",\n], function (Controller, ContentResource) {\n    \"use strict\";\n    var contentResource = new sap.ui.vk.ContentResource({\n        source: \"/models/boxTestModel.vds\",\n        sourceType: \"vds4\",\n        id: \"abc123\"\n\n```\n\n**Create a new Content Connector instance** \n\nCreate a new Content Connector instance. We're only specifying one input parameter, which is an even handler which is invoked when content resource loading is finished \\(either successfully or unsuccessfully\\). We then get the current viewport, and attach the Content Connector instance so that the model we've loaded can be rendered.\n\nIn the following code block, we have specified some checks in the *contentChangesFinished* event handler to make sure that the model loads correctly. If no resource is loaded, or if there is an error loading the resource, we log the following error on the screen \"Some of content resources cannot be loaded\" as well as any error message received from Content Connector.\n\n```js\nreturn Controller.extend(\"standaloneViewport.controller.App\",{\n    onInit: function() {\n        var view = this.getView();\n        var viewport = view.byId(\"viewport\");\n        \n        var contentConnector = new ContentConnector({\n            contentChangesFinished: function(event) {\n                var failureReason = event.getParameter(\"failureReason\");\n                if (failureReason) {\n                    Log.error(\"Some of content resources cannot be loaded: \" + failureReason);\n                } else {\n                    Log.info(\"Scene successfully loaded\");\n                }\n            }\n        });\n        viewport.setContentConnector(contentConnector);\n```\n\n**Load the Content Resource for Rendering** \n\nNow that we've associated the viewport with the Content Connector, we can load our model to be displayed on the Viewport.\n\n```js\ncontentConnector.addContentResource(contentResource);\n```\n\n\n\n## API Reference\n\n-   [`sap.ui.vk.Viewport`](https://ui5.sap.com/#/api/sap.ui.vk.Viewport)\n-   [`sap.ui.vk.ContentConnector`](https://ui5.sap.com/#/api/sap.ui.vk.ContentConnector)\n\n",
  "excerpt": "<!-- loio112d7b417e914a5a951abc6411d6f6c4 --> Step 3: 3D Viewer Using the Viewport Control In this step, you will be creating a 3D Viewer application using the sap.ui.vk.Viewport control. In previous ...",
  "wordCount": 920,
  "version": "1.0.0",
  "source": "sapui5",
  "sourceType": "github"
}