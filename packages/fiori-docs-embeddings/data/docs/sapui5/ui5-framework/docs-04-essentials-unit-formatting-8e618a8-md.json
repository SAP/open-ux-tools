{
  "id": "sapui5-docs-04-essentials-unit-formatting-8e618a8-md",
  "title": "Unit Formatting",
  "category": "ui5-framework",
  "path": "docs/04_Essentials/unit-formatting-8e618a8.md",
  "lastModified": "2025-09-01T18:17:10.551Z",
  "tags": [
    "ui5-framework",
    "md",
    "Unit",
    "Formatting"
  ],
  "headers": [
    "Unit Formatting",
    "Introduction",
    "Usage",
    "Simple Sample",
    "Complex Sample",
    "Plural Forms and RTL",
    "Custom Units",
    "Instance-Exclusive Units",
    "Globally Configured Units",
    "Additional Format Options",
    "Databinding: New Unit Type",
    "Legacy Unit Mapping \\(deprecated\\)"
  ],
  "content": "<!-- loio8e618a8d93cb4f92adc911b96047eb8d -->\n\n# Unit Formatting\n\nSAPUI5 supports the formatting and parsing of units. These unit formats are by default taken from the CLDR. Besides the default units defined in the CLDR, you can also define custom units.\n\n\n\n<a name=\"loio8e618a8d93cb4f92adc911b96047eb8d__section_m5b_xkh_hdb\"/>\n\n## Introduction\n\nSimilar to the formatting of currencies, the unit formatting feature allows you to combine a number value with a localized unit string. Still the actual numbers themselves can be formatted in all kinds of styles, for example, with different decimals or fraction digits.\n\nWith version 1.54 all language files will include the CLDR data for formatting. You can check out the public CLDR github repository for an overview of all supported languages and units: [https://github.com/unicode-cldr/cldr-units-modern](https://github.com/unicode-cldr/cldr-units-modern)\n\nThe default CLDR units include a pattern for formatting a number value in the given unit and the set locale. Additionally, you can now parse an already formatted string back into the unit-format code from the CLDR and of course the raw number value. The same is true for your self-defined custom units.\n\nIn addition to the formatting and parsing patterns, the CLDR also provides a display-name for all units, as well as grammatical plural forms. The display-name for the unit `volume-cubic-inch` is *inches³*. The formatting output might however look like this: *12 in³*.\n\n\n\n<a name=\"loio8e618a8d93cb4f92adc911b96047eb8d__section_fb5_wlh_hdb\"/>\n\n## Usage\n\n\n\n### Simple Sample\n\nSince the units and their formatting patterns are already included in the respective language JSON files, you can simply instantiate a new unit format instance via the `NumberFormat.getUnitInstance()` factory. The resulting instance supports formatting and parsing. While the `FormatOptions` are used to format the Number itself, the specific unit code is passed to the format/parse method.\n\n```\n// create a simple unit formatting instance, without any additional options\nsap.ui.require([\"sap/ui/core/format/NumberFormat\"], function(NumberFormat) {\n   var oUnitFormat = NumberFormat.getUnitInstance();\n   oUnitFormat.format(12345.678, \"speed-mile-per-hour\"); // output: 12,345.678 mph\n   oUnitFormat.parse(\"12345.678 mph\"); // output: [12345.678, \"speed-mile-per-hour\"]\n});\n```\n\nFor information on the validation of parsed numerical input, see [Parsing](number-format-91f2f28.md#loio91f2f2866f4d1014b6dd926db0e91070__section_NFP).\n\n\n\n### Complex Sample\n\nBesides a simple formatting and parsing of units defined in the CLDR, you can also use the known format options for formatting numbers independent of the unit. The style of the number output format can be defined as either `short` or `long.`\n\nEssentially, the new unit formatting can be combined together with the existing number formatting.\n\n```\n\n// new unit formatter, decimals are limited to 2, and the output style is set to \"short\"\nsap.ui.require([\"sap/ui/core/Locale\", \"sap/ui/core/format/NumberFormat\"], function(Locale, NumberFormat) {\n   var en = new Locale(\"en\");\n   var oUnitFormat = NumberFormat.getUnitInstance({decimals:2, style:\"short\"}, en);\n   console.log(oUnitFormat.format(12345.678, \"speed-mile-per-hour\")); // output:  12.35K mph\n   console.log(oUnitFormat.parse(\"12.35K mph\")); // output: [12350, \"speed-mile-per-hour\"]\n});\n\n// new unit formatter, decimals are limited to 2, and the output style is set to \"long\"\nsap.ui.require([\"sap/ui/core/Locale\", \"sap/ui/core/format/NumberFormat\"], function(Locale, NumberFormat) {\n   var en = new Locale(\"en\");\n   var oUnitFormat = NumberFormat.getUnitInstance({decimals:2, style:\"long\"}, en);\n   console.log(oUnitFormat.format(12345.678, \"speed-mile-per-hour\")); // output: 12.35 thousand mph\n   console.log(oUnitFormat.parse(\"12.35 thousand mph\")); // output: [12350, \"speed-mile-per-hour\"]\n});\n```\n\nThe unit's `displayname` can also be retrieved based on the data from the CLDR.\n\n```\nsap.ui.require([\"sap/ui/core/Locale\", \"sap/ui/core/LocaleData\"],\n    function(Locale, LocaleData) {\n    console.log(LocaleData.getInstance(new Locale(\"en\")).getUnitDisplayName(\"speed-mile-per-hour\")); // output: miles/hour\n});\n```\n\n\n\n### Plural Forms and RTL\n\nDepending on the set locale/language, the output also correctly regards grammatical plural forms, as well as right-to-left orientation. In some Arabic languages, for example, there is a distinction between \"many\" and \"one\", with \"one\" being a single string without a number in it:\n\n```\n\nsap.ui.require([\"sap/ui/core/Locale\", \"sap/ui/core/format/NumberFormat\"], function(Locale, NumberFormat) {\n   var ar = new Locale(\"ar\");\n   var oUnitFormat = NumberFormat.getUnitInstance({decimals:2, style:\"long\"}, ar);\n   console.log(oUnitFormat.format(123456.789, \"angle-revolution\")); // 123.46 ألف دورة\n   console.log(oUnitFormat.format(1, \"angle-revolution\")); // دورة\n});\n```\n\nAnd here's an example of right-to-left orientation in Hebrew:\n\n```\n\nsap.ui.require([\"sap/ui/core/Locale\", \"sap/ui/core/format/NumberFormat\"], function(Locale, NumberFormat) {\n   var he = new Locale(\"he\");\n   var oUnitFormat = NumberFormat.getUnitInstance({decimals:2, style:\"long\"}, he);\n   console.log(oUnitFormat.format(12345.678, \"speed-mile-per-hour\")); // ‏12.35 אלף mph\n});\n```\n\n> ### Note:  \n> The right-to-left languages include a special whitespace character as a marker. This character is of course invisible, but you should take note of it, in case you intend to do string comparisons and other string operations. For example, in the Chrome debugger the RTL mark is visualized as a red dot.\n\n\n\n<a name=\"loio8e618a8d93cb4f92adc911b96047eb8d__section_b2x_tnh_hdb\"/>\n\n## Custom Units\n\n\n\n### Instance-Exclusive Units\n\nThe unit NumberFormat instance also allows you to specify custom units, which can be used for formatting, as well as parsing. All you have to do is add your custom units as an additional parameter in the `NumberFormat.getUnitInstance()` factory.\n\nIn the following example, you can see how this is done for a specific instance.\n\n```\n\nsap.ui.require([\"sap/ui/core/format/NumberFormat\"], function(NumberFormat) {\n \n       var oFormat = NumberFormat.getUnitInstance({\n              customUnits: {\n                     \"zomb\": {\n                            \"unitPattern-count-one\": \"{0} Zombie...\",\n                            \"unitPattern-count-other\": \"{0} Zombies!!\"\n                     }\n              }\n       });\n \n       console.log(oFormat.format(1, \"zomb\"));     // 1 Zombie...\n       console.log(oFormat.format(9001, \"zomb\"));  // 9.001 Zombies!!\n       \n       console.log(oFormat.parse(\"12 Zombies!!\")); // [12, \"zomb\"];\n});\n```\n\n> ### Caution:  \n> The custom units defined on the number format instance will be exclusive to this instance. No other instances are affected. In addition, once you define custom units for an instance, only those units will be formatted and parsed by that instance. This also means that custom units defined via the Configuration are not taken into account for this specific instance.\n> \n> This is done to circumvent ambiguities and unit clashes with the CLDR units. So in the above example, only Zombies can be formatted, but no Gigawatt \\(CLDR key: `power-gigawatt`\\).\n> \n> > ### Example:  \n> > ```\n> >        // the previous Unit instance is used\n> >        // formatting/parsing Zombies is fine\n> >        console.log(oFormat.format(9001, \"zomb\"));  // 9.001 Zombies!!\n> >        console.log(oFormat.parse(\"12 Zombies!!\")); // [12, \"zomb\"];\n> >  \n> >        // formatting/parsing Giga-Watt does not work (because of the exclusivity of the custom units on the above instance)\n> >        console.log(oFormat.format(1.21, \"power-gigawatt\")); // \"\": results in an empty string\n> > ```\n\nIf you need both, CLDR units and custom units, you simply have to create two separate number format instances.\n\n\n\n### Globally Configured Units\n\nYou can also add custom units via the format settings in the Core configuration. Contrary to the custom units defined exclusively on a single unit-formatter instance, these custom units will be available in ALL unit-formatted instances for the current locale \\(except if they also define a set of custom units\\).\n\nAdding a unit with a key which is already available in the CLDR, will overwrite the CLDR unit. This way you can overdefine single units, in case the CLDR provided formatting is not sufficient.\n\n```\nsap.ui.require([\"sap/base/i18n/Formatting\", \"sap/ui/core/format/NumberFormat\"], function(Formatting, NumberFormat) {\n   Formatting.addCustomUnits({\n       \"cats\": {\n          \"displayName\": \"kitties\",\n          \"unitPattern-count-one\": \"{0} kitty\",\n          \"unitPattern-count-other\": \"{0} kitties\"\n       },\n       \"dogs\": {\n          \"displayName\": \"puppies\",\n          \"unitPattern-count-one\": \"{0} puppy\",\n          \"unitPattern-count-other\": \"{0} puppies\"\n       },\n       \"power-horsepower\": { // overwrite of an existing CLDR unit\n          \"displayName\": \"Horsepower\",\n          \"unitPattern-count-one\": \"{0} AmazingHorse\", // singular form\n          \"unitPattern-count-other\": \"{0} AmazingHorses\" // plural form\n       }\n    });\n \n \n    var oUnitFormat = NumberFormat.getUnitInstance({decimals:2, style:\"long\"});\n \n    // formatting a custom unit\n    console.log(oUnitFormat.format(12, \"cats\")); // 12,00 kitties\n \n \n    // formatting and existing CLDR unit\n    console.log(oUnitFormat.format(5, \"speed-meter-per-second\")); // 5,00 m/s\n \n \n    // formatting and existing CLDR unit\n    console.log(oUnitFormat.format(12, \"power-horsepower\")); // 12,00 AmazingHorses\n});\n```\n\nAdditionally, you can now define unit mappings, in order to use aliases for some units. A typical use-case is to map from an ISO unit code to a CLDR key. Of course you can also map to custom units as shown below.\n\n```\nFormatting.addUnitMappings({\n   \"kitties\": \"cats\", // maps to a custom defined unit\n   \"mySpeedAlias\": \"speed-kilometer-per-hour\" // maps to an existing the CLDR unit\n});\n```\n\n\n\n### Additional Format Options\n\nWhen using either instance, exclusive or globally configured custom units, you can also add two additional format options \\(`decimals` and `precision`\\) to the custom unit's definition block. In the following examples the `decimals` option is set.\n\n> ### Example:  \n> Globally configured custom units:\n> \n> ```\n> sap.ui.require([\"sap/base/i18n/Formatting\", \"sap/ui/core/format/NumberFormat\"], function(Formatting, NumberFormat) {\n>    // define a new unit called Lux\n>    Formatting.addCustomUnits({\n>        \"lux\": {\n>           \"displayName\": \"Lux\",\n>           \"unitPattern-count-one\": \"{0} lx\",\n>           \"unitPattern-count-other\": \"{0} lx\",\n>           \"decimals\": 2\n>        }\n>     });\n>  \n>     var oUnitFormat = NumberFormat.getUnitInstance({style:\"long\"});\n>  \n>     console.log(oUnitFormat.format(2.4, \"lux\")); // 2,40 lux (notice the padded 0 after the 4, this is due to the decimals option)\n> });\n> ```\n\n> ### Example:  \n> Instance exclusive custom unit definition:\n> \n> ```\n> \n> sap.ui.require([\"sap/ui/core/format/NumberFormat\"], function(NumberFormat) {\n>     // define a new unit called Lux\n>     var oFormat = NumberFormat.getUnitInstance({\n>         customUnits: {\n>             \"lux\": {\n>                  \"displayName\": \"Lux\",\n>                  \"unitPattern-count-one\": \"{0} lx\",\n>                  \"unitPattern-count-other\": \"{0} lx\",\n>                  \"decimals\": 2\n>             }\n>         }\n>     });\n>  \n>     var oUnitFormat = NumberFormat.getUnitInstance({style:\"long\"});\n>  \n>     console.log(oUnitFormat.format(2.4, \"lux\")); // 2,40 lux (notice the padded 0 after the 4, this is due to the decimals option)\n> });\n> ```\n\n\n\n<a name=\"loio8e618a8d93cb4f92adc911b96047eb8d__section_ybw_1yh_hdb\"/>\n\n## Databinding: New Unit Type\n\nBesides the NumberFormat instances, you now can also include the new Unit type in your application. Simply define it as the type for a property binding, and most of the formatting and parsing effort will be handled for you out of the box.\n\nTo demonstrate this, we can consider an example with electric meters. Typically they all measure the flow of energy in kilowatt hours \\(kWh\\). Yet some meters are more precise than others, some measure up to a few hundred wattseconds, others just cap it at full kilowatt hours. To simplify it for our example: the number of decimals might differ depending on the type of electric meter.\n\n```\n// defining a new custom Type as a subclass of the sap.ui.model.type.Unit type\nsap.ui.define([\"sap/ui/model/type/Unit\"], function(UnitType) {\n       \"use strict\";\n \n       return UnitType.extend(\"sap.ui.core.samples.MeterType\", {\n              constructor: function(oFormatOptions, oConstraints){\n                     // define the dynamic format options as the third argument\n                     // 'aDynamicFormatOptionNames'\n                     UnitType.apply(this, [oFormatOptions, oConstraints, [\"decimals\"]]);\n              }\n       });\n});\n```\n\nIn the example we defined a new `MeterType` to combine not only a number value and a unit, but the already mentioned optional dynamic format options in one single typed `PropertyBinding`.\n\n```\n<-- XML View snippet -->\n<mvc:View\n    xmlns:m=\"sap.m\"\n    xmlns:t=\"sap.ui.table\"\n    xmlns:mvc=\"sap.ui.core.mvc\"\n    xmlns:core=\"sap.ui.core\"\n    core:require=\"{MeterType: 'sap/ui/core/samples/MeterType'}\">\n   ...\n        <t:Table rows='energyModel>/meters'>\n        ... <!-- here is more Table definition stuff, we cut this for simplicity -->\n\n        <!-- the third part of the binding is the number of decimals for this meter instance -->\n        <m:Label text=\"{parts:['energyModel>value', 'energyModel>unit', 'energyModel>decimals'], type: 'MeterType'}\"/>\n\n        ...\n        </t:Table>\n   ...\n```\n\nWith the new bindable dynamic format options of Unit type, you can pass the relevant meter formatting information in a generalized way through the cell's bindings.\n\nThe third argument of the base Unit type constructor is a list of dynamic format options. In our example, the binding context itself contains the information on how many-decimals should be used. Still, these dynamic format options can be bound to any value from any model.\n\n> ### Note:  \n> If you use a combination of custom units on the Configuration and the Unit type, the format options from the type have priority.\n> \n> So if you define a `decimals` value for a custom unit in the Configuration, the bound values from the Unit type instance will still be taken for the formatting.\n\n\n\n<a name=\"loio8e618a8d93cb4f92adc911b96047eb8d__section_LUM\"/>\n\n## Legacy Unit Mapping \\(deprecated\\)\n\n> ### Caution:  \n> **Legacy unit mapping is deprecated as of SAPUI5 1.122.0**\n> \n> With UI5 version 1.122.0, this map is no longer maintained; the state of this mapping corresponds to UI5 version 1.119.0.\n\nWith the upgrade of the CLDR version from 35.1 to 41, released with SAPUI5 version 1.110, some unit keys have changed. To support the formatting of legacy unit keys, a mapping has been added. A user is able to load legacy unit keys from his back end, which are then mapped to the new unit keys. When parsing user input, only the new unit keys are returned. Updating or changing entries containing legacy unit keys results in replacing the legacy unit key with a new unit key.\n\n> ### Note:  \n> If affected unit keys are handled by back-end code explicitly, this code needs to be adapted.\n\nThe following legacy unit keys are currently supported; this map may be subject to change since, with further CLDR upgrades, unit keys may change:\n\n\n<table>\n<tr>\n<th valign=\"top\">\n\nLegacy Unit Key\n\n</th>\n<th valign=\"top\">\n\nNew Unit Key\n\n</th>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`acceleration-meter-per-second-squared`\n\n</td>\n<td valign=\"top\">\n\n`acceleration-meter-per-square-second`\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`concentr-milligram-per-deciliter`\n\n</td>\n<td valign=\"top\">\n\n`concentr-milligram-ofglucose-per-deciliter`\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`concentr-part-per-million`\n\n</td>\n<td valign=\"top\">\n\n`concentr-permillion`\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`consumption-liter-per-100kilometers`\n\n</td>\n<td valign=\"top\">\n\n`consumption-liter-per-100-kilometer`\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`mass-metric-ton`\n\n</td>\n<td valign=\"top\">\n\n`mass-tonne`\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`pressure-millimeter-of-mercury`\n\n</td>\n<td valign=\"top\">\n\n`pressure-millimeter-ofhg`\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`pressure-pound-per-square-inch`\n\n</td>\n<td valign=\"top\">\n\n`pressure-pound-force-per-square-inch`\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`pressure-inch-hg`\n\n</td>\n<td valign=\"top\">\n\n`pressure-inch-ofhg`\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\n`torque-pound-foot`\n\n</td>\n<td valign=\"top\">\n\n`torque-pound-force-foot`\n\n</td>\n</tr>\n</table>\n\n**Related Information**  \n\n\n[API Reference: `sap.ui.core.format.NumberFormat`](https://ui5.sap.com/#/api/sap.ui.core.format.NumberFormat)\n\n",
  "excerpt": "<!-- loio8e618a8d93cb4f92adc911b96047eb8d --> Unit Formatting SAPUI5 supports the formatting and parsing of units. These unit formats are by default taken from the CLDR. Besides the default units defi...",
  "wordCount": 2070,
  "version": "1.0.0",
  "source": "sapui5",
  "sourceType": "github"
}