{
  "id": "sapui5-docs-03-get-started-step-17-fragment-callbacks-typescript-f030afc-md",
  "title": "Step 17: Fragment Callbacks \\(TypeScript\\)",
  "category": "ui5-framework",
  "path": "docs/03_Get-Started/step-17-fragment-callbacks-typescript-f030afc.md",
  "lastModified": "2025-09-01T18:17:10.456Z",
  "tags": [
    "ui5-framework",
    "md",
    "Step",
    "Fragment",
    "Callbacks",
    "TypeScript"
  ],
  "headers": [
    "Step 17: Fragment Callbacks \\(TypeScript\\)",
    "Preview",
    "Coding",
    "webapp/controller/HelloPanel.controller.ts",
    "webapp/i18n/i18n.properties",
    "webapp/view/HelloDialog.fragment.xml"
  ],
  "content": "<!-- loiof030afccc30f461c9660724561cb7264 -->\n\n# Step 17: Fragment Callbacks \\(TypeScript\\)\n\nNow that we have integrated the dialog, it's time to add some user interaction. The user will definitely want to close the dialog again at some point, so we add a button to close the dialog and assign an event handler.\n\n\n\n## Preview\n\n  \n  \n**The dialog now has an \"OK\" button**\n\n![The graphic has an explanatory text.](images/UI5_Walkthrough_Step_17_c351bbd.png \"The dialog now has an \"OK\" button\")\n\n\n\n<a name=\"loiof030afccc30f461c9660724561cb7264__section_mt1_5fk_syb\"/>\n\n## Coding\n\nYou can view all files at [OpenUI5 TypeScript Walkthrough - Step 17: Fragment Callbacks](https://github.com/sap-samples/ui5-typescript-walkthrough/tree/main/steps/17) and [download the solution as a zip file](https://sap-samples.github.io/ui5-typescript-walkthrough/ui5-typescript-walkthrough-step-17.zip).\n\n\n\n<a name=\"loiof030afccc30f461c9660724561cb7264__section_nt1_5fk_syb\"/>\n\n## webapp/controller/HelloPanel.controller.ts\n\nWe add an event handler function into the `HelloPanel` controller file that closes the dialog when triggered. To get the dialog instance, we use the `byId` function and then call the `close` function of the dialog.\n\n```js\nimport Controller from \"sap/ui/core/mvc/Controller\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport ResourceModel from \"sap/ui/model/resource/ResourceModel\";\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport Dialog from \"sap/m/Dialog\";\n\n/**\n * @namespace ui5.walkthrough.controller\n */\nexport default class HelloPanel extends Controller {\n    private dialog: Dialog;\n\n    onShowHello(): void {\n        ...\n    }\n   async onOpenDialog(): Promise<void> {\n        ...\n    }\n    onCloseDialog(): void {\n        // note: We don't need to chain to the pDialog promise, since this event-handler\n        // is only called from within the loaded dialog itself.\n        (this.byId(\"helloDialog\") as Dialog)?.close();\n    }        \n};\n```\n\n\n\n<a name=\"loiof030afccc30f461c9660724561cb7264__section_d5m_ypr_r2b\"/>\n\n## webapp/i18n/i18n.properties\n\nWe extend the text bundle by the new text for the dialog's `Close` button.\n\n```ini\n# App Descriptor\nappTitle=Hello World\nappDescription=A simple walkthrough app that explains the most important concepts of SAPUI5\n\n# Hello Panel\nshowHelloButtonText=Say Hello\nhelloMsg=Hello {0}\nhomePageTitle=UI5 TypeScript Walkthrough\nhelloPanelTitle=Hello World\nopenDialogButtonText=Say Hello With Dialog\ndialogCloseButtonText=Ok\n```\n\n\n\n## webapp/view/HelloDialog.fragment.xml\n\nIn the fragment definition, we add a button to the `beginButton` aggregation of the dialog and refer the press handler to the event handler we just defined in the controller of the panel's content view.\n\n```xml\n<core:FragmentDefinition\n   xmlns=\"sap.m\"\n   xmlns:core=\"sap.ui.core\">\n   <Dialog\n      id=\"helloDialog\"\n      title =\"Hello {/recipient/name}\">\n      <beginButton>\n         <Button\n            text=\"{i18n>dialogCloseButtonText}\"\n            press=\".onCloseDialog\"/>\n      </beginButton>\n   </Dialog>\n</core:FragmentDefinition>\n```\n\nBy using the `loadFragment` function to create the fragment content in the controller of the panel's content view, the method will be invoked there when the button is pressed. The dialog has an aggregation named `beginButton` as well as `endButton`. Placing buttons in both of these aggregations makes sure that the `beginButton` is placed before the `endButton` on the UI. What `before` means, however, depends on the text direction of the current language. We therefore use the terms `begin` and `end` as a synonym to \"left\" and \"right\". In languages with left-to-right direction, the `beginButton` will be rendered left, the `endButton` on the right side of the dialog footer; in right-to-left mode for specific languages the order is switched.\n\n**Related Information**  \n\n\n[Reusing UI Parts: Fragments](../04_Essentials/reusing-ui-parts-fragments-36a5b13.md \"Fragments are light-weight UI parts (UI sub-trees) which can be reused, defined similar to views, but do not have any controller or other behavior code involved.\")\n\n[Instantiation of Fragments](../04_Essentials/instantiation-of-fragments-04129b2.md \"SAPUI5 provides two options to instantiate a fragment: If it is instantiated inside a controller extending sap.ui.core.mvc.Controller, the loadFragment() function is the way to go. However, if it is instantiated in a non-controller artefact, the generic function sap.ui.core.Fragment.load() can be used.\")\n\n[API Reference: `sap.m.Dialog`](https://ui5.sap.com/#/api/sap.m.Dialog)\n\n[Samples: `sap.m.Dialog`](https://ui5.sap.com/#/entity/sap.m.Dialog)\n\n",
  "excerpt": "<!-- loiof030afccc30f461c9660724561cb7264 --> Step 17: Fragment Callbacks \\(TypeScript\\) Now that we have integrated the dialog, it's time to add some user interaction. The user will definitely want t...",
  "wordCount": 531,
  "version": "1.0.0",
  "source": "sapui5",
  "sourceType": "github"
}