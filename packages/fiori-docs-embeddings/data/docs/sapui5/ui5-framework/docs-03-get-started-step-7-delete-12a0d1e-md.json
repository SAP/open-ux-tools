{
  "id": "sapui5-docs-03-get-started-step-7-delete-12a0d1e-md",
  "title": "Step 7: Delete",
  "category": "ui5-framework",
  "path": "docs/03_Get-Started/step-7-delete-12a0d1e.md",
  "lastModified": "2025-09-01T18:17:10.480Z",
  "tags": [
    "ui5-framework",
    "md",
    "Step",
    "Delete"
  ],
  "headers": [
    "Step 7: Delete",
    "Preview",
    "Coding",
    "webapp/App.controller.js",
    "webapp/App.view.xml",
    "webapp/i18n/i18n.properties"
  ],
  "content": "<!-- loio12a0d1ef150a42ef81e9f07fe6407018 -->\n\n# Step 7: Delete\n\nIn this step, we make it possible to delete user data.\n\n\n\n<a name=\"loio12a0d1ef150a42ef81e9f07fe6407018__section_bt4_fxc_z1b\"/>\n\n## Preview\n\n  \n  \n**A new Delete User button is added**\n\n![](images/Tutorial_OData_V4_Step_7_32509f4.png \"A new Delete User button is added\")\n\n\n\n<a name=\"loio12a0d1ef150a42ef81e9f07fe6407018__section_tsr_gxc_z1b\"/>\n\n## Coding\n\nYou can view and download all files at [OData V4 - Step 7](https://ui5.sap.com/#/entity/sap.ui.core.tutorial.odatav4/sample/sap.ui.core.tutorial.odatav4.07).\n\n\n\n<a name=\"loio12a0d1ef150a42ef81e9f07fe6407018__section_pvc_fyc_z1b\"/>\n\n## webapp/App.controller.js\n\n```\n...\n\t\tonInit: function () {\n\t\t\t...\n\t\t\t\toViewModel = new JSONModel({\n\t\t\t\t\tbusy : false,\n\t\t\t\t\thasUIChanges : false,\n\t\t\t\t\tusernameEmpty : false,\n\t\t\t\t\torder : 0\n\t\t\t\t});\n\t\t\t...\n\t\t},\n\t\tonCreate : function () {\n\t\t\tvar oList = this.byId(\"peopleList\"),\n\t\t\t\toBinding = oList.getBinding(\"items\"),\n\t\t\t\toContext = oBinding.create({\n\t\t\t\t\t\"UserName\" : \"\",\n\t\t\t\t\t\"FirstName\" : \"\",\n\t\t\t\t\t\"LastName\" : \"\",\n\t\t\t\t\t\"Age\" : \"18\"\n\t\t\t\t});\n\n\t\t\tthis._setUIChanges();\n\t\t\tthis.getView().getModel(\"appView\").setProperty(\"/usernameEmpty\", true);\n\n\t\t\toList.getItems().some(function (oItem) {\n\t\t\t\tif (oItem.getBindingContext() === oContext) {\n\t\t\t\t\toItem.focus();\n\t\t\t\t\toItem.setSelected(true);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tonDelete : function () {\n\t\t    var oContext,\n\t\t        oSelected = this.byId(\"peopleList\").getSelectedItem(),\n\t\t        sUserName;\n \n\t\t    if (oSelected) {\n\t\t        oContext = oSelected.getBindingContext();\n\t\t        sUserName = oContext.getProperty(\"UserName\");\n\t\t        oContext.delete().then(function () {\n\t\t            MessageToast.show(this._getText(\"deletionSuccessMessage\", sUserName));\n\t\t        }.bind(this), function (oError) {\n\t\t            this._setUIChanges();\n\t\t            if (oError.canceled) {\n\t\t                MessageToast.show(this._getText(\"deletionRestoredMessage\", sUserName));\n\t\t                return;\n\t\t            }\n\t\t            MessageBox.error(oError.message + \": \" + sUserName);\n\t\t        }.bind(this));\n\t\t        this._setUIChanges(true);\n\t\t    }\n\t\t},\n\n\t\tonInputChange : function (oEvt) {\n\t\t\tif (oEvt.getParameter(\"escPressed\")) {\n\t\t\t\tthis._setUIChanges();\n\t\t\t} else {\n\t\t\t\tthis._setUIChanges(true);\n\t\t\t\tif (oEvt.getSource().getParent().getBindingContext().getProperty(\"UserName\")) {\n\t\t\t\t\tthis.getView().getModel(\"appView\").setProperty(\"/usernameEmpty\", false);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n...\n```\n\nWe add the `onDelete` event handler to the controller. In the event handler, we check whether an item is selected in the table and if so, we retrieve the binding context of the selection and call its `delete` method. By doing this, the context is removed from the table on the client side and the deletion is stored as a pending change in the update group of the table's list binding. A call to `_setUIChanges` ensures that the `appView` model reflects the deletion as a pending change and that the *Save* button becomes enabled. The deletion will be submitted with all other changes related to the same update group once the *Save* button is pressed. If the deletion fails on the server side, or the changes are reset via API, the related entity is restored in the table automatically. To distinguish these two situations, the rejected error has `canceled` set to `true` in case of a reset.\n\n\n\n<a name=\"loio12a0d1ef150a42ef81e9f07fe6407018__section_pp2_mxc_z1b\"/>\n\n## webapp/App.view.xml\n\n```\n<mvc:View\n\tcontrollerName=\"sap.ui.core.tutorial.odatav4.controller.App\"\n\tdisplayBlock=\"true\"\n\txmlns=\"sap.m\"\n\txmlns:mvc=\"sap.ui.core.mvc\">\n\t<Shell>\n\t\t<App busy=\"{appView>/busy}\" class=\"sapUiSizeCompact\">\n\t\t\t<pages>\n\t\t\t\t<Page title=\"{i18n>peoplePageTitle}\">\n\t\t\t\t\t<content>\n\t\t\t\t\t\t<Table\n\t\t\t\t\t\t\tid=\"peopleList\"\n\t\t\t\t\t\t\tgrowing=\"true\"\n\t\t\t\t\t\t\tgrowingThreshold=\"10\"\n\t\t\t\t\t\t\titems=\"{\n\t\t\t\t\t\t\t\tpath: '/People',\n\t\t\t\t\t\t\t\tparameters: {\n\t\t\t\t\t\t\t\t\t$count: true,\n\t\t\t\t\t\t\t\t\t$$updateGroupId : 'peopleGroup'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\tmode=\"SingleSelectLeft\">\n\t\t\t\t\t\t\t<headerToolbar>\n\t\t\t\t\t\t\t\t<OverflowToolbar>\n\t\t\t\t\t\t\t\t\t<content>\n\t\t\t\t\t\t\t\t\t\t<ToolbarSpacer/>\n\t\t\t\t\t\t\t\t\t\t<SearchField\n\t\t\t\t\t\t\t\t\t\t.../>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t.../>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tid=\"deleteUserButton\"\n\t\t\t\t\t\t\t\t\t\t\ticon=\"sap-icon://delete\"\n\t\t\t\t\t\t\t\t\t\t\ttooltip=\"{i18n>deleteButtonText}\"\n\t\t\t\t\t\t\t\t\t\t\tpress=\".onDelete\">\n\t\t\t\t\t\t\t\t\t\t\t<layoutData>\n\t\t\t\t\t\t\t\t\t\t\t\t<OverflowToolbarLayoutData priority=\"NeverOverflow\"/>\n\t\t\t\t\t\t\t\t\t\t\t</layoutData>\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t.../>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t...>\n\t\t\t\t\t\t\t\t\t</content>\n\t\t\t\t\t\t\t\t</OverflowToolbar>\n\t\t\t\t\t\t\t</headerToolbar>\n\t\t\t\t\t\t\t<columns>\n\t\t\t\t\t\t\t\t...\n\t\t\t\t\t\t\t</columns>\n\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t...\n\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</content>\n\t\t\t\t\t<footer>\n\t\t\t\t\t\t...\n\t\t\t\t\t</footer>\n\t\t\t\t</Page>\n\t\t\t</pages>\n\t\t</App>\n\t</Shell>\n</mvc:View>\n```\n\nWe change the `mode` of the table to `SingleSelectLeft` to make it possible to select a row.\n\nWe add the *Delete* button to the toolbar. With the `OverflowToolbarLayoutData priority=\"NeverOverflow\"` parameter, we make sure that the button is always visible.\n\n\n\n<a name=\"loio12a0d1ef150a42ef81e9f07fe6407018__section_kl4_d1x_4cb\"/>\n\n## webapp/i18n/i18n.properties\n\n```ini\n...\n# Toolbar\n...\n#XBUT: Button text for delete user\ndeleteButtonText=Delete User\n...\n# Messages\n...\n#XMSG: Message for user deleted\ndeletionSuccessMessage=User {0} deleted\n\n#XMSG: Message for user restored (undeleted)\ndeletionRestoredMessage=User {0} restored\n...\n```\n\nWe add the missing texts to the properties file.\n\n**Related Information**  \n\n\n[Deleting an Entity](../04_Essentials/deleting-an-entity-2613ebc.md \"The v4.Context.delete method deletes an entity on the server and updates the user interface accordingly.\")\n\n",
  "excerpt": "<!-- loio12a0d1ef150a42ef81e9f07fe6407018 --> Step 7: Delete In this step, we make it possible to delete user data. <a name=\"loio12a0d1ef150a42ef81e9f07fe6407018__section_bt4_fxc_z1b\"/> Preview       ...",
  "wordCount": 543,
  "version": "1.0.0",
  "source": "sapui5",
  "sourceType": "github"
}