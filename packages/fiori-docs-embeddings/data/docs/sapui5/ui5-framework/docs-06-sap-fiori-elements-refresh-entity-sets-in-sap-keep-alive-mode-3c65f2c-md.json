{
  "id": "sapui5-docs-06-sap-fiori-elements-refresh-entity-sets-in-sap-keep-alive-mode-3c65f2c-md",
  "title": "Refresh Entity Sets in `sap-keep-alive` Mode",
  "category": "ui5-framework",
  "path": "docs/06_SAP_Fiori_Elements/refresh-entity-sets-in-sap-keep-alive-mode-3c65f2c.md",
  "lastModified": "2025-09-01T18:17:10.645Z",
  "tags": [
    "ui5-framework",
    "md",
    "Refresh",
    "Entity",
    "Sets",
    "`sap",
    "keep",
    "alive`",
    "Mode"
  ],
  "headers": [
    "Refresh Entity Sets in `sap-keep-alive` Mode",
    "Entity Set Configuration",
    "Source Application Behavior",
    "External Create Navigation",
    "External Chevron Navigation",
    "Other External Navigation Including Navigation Using Extension APIs",
    "Navigation Using Extensions",
    "Additional Features in SAP Fiori Elements for OData V2",
    "Source Application Behavior",
    "Additional Features in SAP Fiori Elements for OData V4",
    "Overriding the Default Refresh Mechanism",
    "Switching Off the Default Refresh Behavior During Chevron Navigation"
  ],
  "content": "<!-- loio3c65f2cc630c472da8328a6f3c193683 -->\n\n# Refresh Entity Sets in `sap-keep-alive` Mode\n\n`sap-keep-alive` is an SAP Fiori launchpad feature that ensures that a view is not destroyed in the view cache when navigating away from the application.\n\nThe feature ensures improved performance when you reload the same view again once you navigate back to the application. For more information, see [Keeping SAPUI5 Apps Alive](https://help.sap.com/viewer/a7b390faab1140c087b8926571e942b7/202009.002/en-US/921e7e2e45494f9a87ae70624155fd7c.html).\n\nIf you make changes in an external application that you navigated to, then when you navigate back and reactivate the application view, the changes that you made are reflected without rebinding the control. It means that the application still shows the latest data, but the control is not rebound. This allows the earlier state \\(scroll position, selections\\) to be retained.\n\nYou can configure the entity sets that you want to refresh. To do so, upon navigating back to the source application from the target application, you can use the manifest configurations described below. SAP Fiori Elements defines default refresh mechanisms when the application configured with the `sap-keep-alive` parameter is activated again by SAP Fiori launchpad \\(for example, upon a back navigation following an external navigation\\).\n\n\n\n<a name=\"loio3c65f2cc630c472da8328a6f3c193683__section_lyg_rv3_3cc\"/>\n\n## Entity Set Configuration\n\nThe following configurations are supported for entity sets:\n\n\n<table>\n<tr>\n<td valign=\"top\">\n\nEntitySet1: self\n\n</td>\n<td valign=\"top\">\n\nOnly <EntitySet1\\> is to be refreshed\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\nEntitySet2: `includingDependents` \n\n</td>\n<td valign=\"top\">\n\nRefresh <EntitySet2\\> along with all its dependents \\(navigation property\\)\n\n</td>\n</tr>\n</table>\n\n> ### Tip:  \n> `includingDependents` doesn't mean that data for child navigation entities gets refreshed, even if the UI has no control that is bound to the navigation entity. It only refreshes the data for the child navigation entity, if there is a control in the UI that is bound to the child navigation entity.\n\n\n\n<a name=\"loio3c65f2cc630c472da8328a6f3c193683__section_umb_yv3_3cc\"/>\n\n## Source Application Behavior\n\n\n\n### External Create Navigation\n\nRefresh occurs for the entity set of the table that gets triggered from the navigation, while moving back to the source application. You can't override this behavior in SAP Fiori elements for OData V2.\n\n\n\n### External Chevron Navigation\n\nRefresh occurs for the entity set of the table that gets triggered from the navigation, while moving back to the source application. However, you can switch it off or override it by configuring the `manifest.json` file. For more information about the sample code, see the version-specific sections.\n\n\n\n### Other External Navigation Including Navigation Using Extension APIs\n\nRefresh is not performed by default. You can override the default behavior and refresh specific entity sets using the manifest configuration. You can configure the refresh strategies defined for specific outbound navigation by configuring the `manifest.json` file. For more information, see the version-specific sections.\n\n\n\n### Navigation Using Extensions\n\nWhile navigating back to the source application, if an external navigation is triggered using the `navigateExternal` API, the refresh strategies of the outbound target that is passed to the API is considered for refreshing the entity set. The entity sets specified in the manifest under `refreshStrategyOnAppRestore` of that specific outbound configuration are considered for refresh. The refresh mechanism is exactly the same as defined for the external navigation section.\n\n\n\n<a name=\"loio3c65f2cc630c472da8328a6f3c193683__section_nfx_4gn_5tb\"/>\n\n## Additional Features in SAP Fiori Elements for OData V2\n\n\n\n### Source Application Behavior\n\n**Configure the Default Refresh Behavior During Chevron Navigation**\n\nYou can either **switch off** or override the default refresh behavior settings in the `manifest.json` file. To **switch off**, the `entitySets` parameter must be empty. Otherwise, you can override it with your refresh requirements.\n\n> ### Sample Code:  \n> manifest.json\n> \n> ```\n> \"sap.app\": {\n> \t...\n> \t\"crossNavigation\": {\n> \t\t\"outbounds\": {\n> \t\t\t\"<OutboundTarget>\": {\n> \t\t\t\t\"semanticObject\": \"<SemanticObject>\",\n> \t\t\t\t\"action\": \"<Action>\"\n> \t\t\t}\n> \t\t}\n> \t}\n> }\n> \n> ....\n> ....\n> \n> \"sap.ui.generic.app\": {\n> \t...\n> \t\"pages\": {\n> \t\t\t\"ListReport|<ListReportEntitySet>\": {\n> \t\t\t\t...\n> \t\t\t\t\"pages\": {\n> \t\t\t\t\t\"ObjectPage|<ObjectPageEntitySet>\": {\n> \t\t\t\t\t\t...\n> \t\t\t\t\t\t\"navigation\": {\n> \t\t\t\t\t\t\t\"display\": {\n> \t\t\t\t\t\t\t\t\"path\": \"sap.apps.crossNavigation.outbounds\",\n> \t\t\t\t\t\t\t\t\"target\": \"<OutboundTarget>\",\n> \t\t\t\t\t\t\t\t\"refreshStrategyOnAppRestore\": {\n> \t\t\t\t\t\t\t\t\t\"entitySets\": {\t\t\t\n> \t\t\t\t\t\t\t\t\t\t\"<EntitySetToRefresh>\": \"<self/includingDependents>\",\n> \t\t\t\t\t\t\t\t\t\t\"<AnotherEntitySetToRefresh>\": \"<self/includingDependents>\"\n> \t\t\t\t\t\t\t\t\t}\n> \t\t\t\t\t\t\t\t}\n> \t\t\t\t\t\t\t}\n> \t\t\t\t\t\t}\n> \t\t\t\t\t}\n> \t\t\t\t}\n> \t\t\t}\n> \t\t}\n> }\n> ```\n\n**Other External Navigation Including Navigation Using Extension APIs**\n\nThe following sample code shows you how to configure `manifest.json` to define refresh strategies for specific outbound navigation. You can also define the default refresh strategies for external navigation for cases wherein an outbound navigation doesn't have specific refresh strategies.\n\n> ### Sample Code:  \n> manifest.json\n> \n> ```\n> \"sap.app\": {\n>    ...\n>    \"crossNavigation\": {\n>       \"outbounds\": {\n>          \"<OutboundTarget1>\": {\n>             \"semanticObject\": \"<SemanticObject1>\",\n>             \"action\": \"<Action1>\"\n>          },\n>          \"<OutboundTarget2>\": {\n>             \"semanticObject\": \"<SemanticObject2>\",\n>             \"action\": \"<Action2>\"\n>          }\n>       }\n>    }\n> }\n> \n> ....\n> ....\n> ```\n> \n> ```\n> \n> \n> \"sap.ui.generic.app\": {\n>       \"_version\": \"1.3.0\",\n>       \"settings\": {\n>          \"externalNavigationSettings\": {\n>             \"defaultOutboundSettings\": {\n>                \"refreshStrategyOnAppRestore\": {\n>                   \"entitySets\": {\n>                      \"<EntitySetToRefresh>\": \"<self/includingDependents>\",\n>                      \"<AnotherEntitySetToRefresh>\": \"<self/includingDependents>\"\n>                   }\n>                }\n>             },\n>             \"outbounds\": {\n>                \"<OutboundTarget1>\": {\n>                   \"refreshStrategyOnAppRestore\": {\n>                      \"entitySets\": {\n>                         \"<EntitySetToRefresh>\": \"<self/includingDependents>\",\n>                         \"<AnotherEntitySetToRefresh>\": \"<self/includingDependents>\"\n>                      }\n>                   }\n>                },\n>                \"<OutboundTarget2>\": {\n>                   \"refreshStrategyOnAppRestore\": {\n>                      \"entitySets\": {\n>                         \"<EntitySetToRefresh>\": \"<self/includingDependents>\",\n>                         \"<AnotherEntitySetToRefresh>\": \"<self/includingDependents>\"\n>                      }\n>                   }\n>                }\n>             }\n>          }\n>       }\n>       ...\n>       ...\n>    }\n> \n> ```\n\n**Navigation Using Extensions**\n\nThe following sample code shows you how to use extensions to navigate back to the souce application:\n\n> ### Sample Code:  \n> Extension Class\n> \n> ```\n> onListNavigationExtension: function (oEvent) {\n> \tvar oNavigationController = this.extensionAPI.getNavigationController();\n> \toNavigationController.navigateExternal(\"<OutboundTarget>\");\n> \treturn true;\n> }\n> ```\n\n> ### Sample Code:  \n> manifest.json\n> \n> ```\n> \n> \n> \n> \"sap.app\": {\n>    ...\n>    \"crossNavigation\": {\n>       \"outbounds\": {\n>          \"<OutboundTarget>\": {\n>             \"semanticObject\": \"<SemanticObject>\",\n>             \"action\": \"<Action>\"\n>          }\n>       }\n>    }\n> }\n> \n> ....\n> ....\n> \n> \"sap.ui.generic.app\": {\n>       \"settings\": {\n>          \"externalNavigationSettings\": {\n>             \"outbounds\": {\n>                \"<OutboundTarget>\": {\n>                   \"refreshStrategyOnAppRestore\": {\n>                      \"entitySets\": {\n>                         \"<EntitySetToRefresh>\": \"<self/includingDependents>\",\n>                         \"<AnotherEntitySetToRefresh>\": \"<self/includingDependents>\"\n>                      }\n>                   }\n>                }\n>             }\n>          }\n>     }\n>       ...\n>       ...\n>    }\n> \n> ```\n\n> ### Note:  \n> If the back-end service isn't ETag enabled, and the table in List Report is configured to be refreshed in Flexible Column Layout mode, the refresh is triggered for all of the table's entity set dependents. To avoid this, enable ETag for your back-end service.\n\n**Refresh in Scenarios Involving Navigation from Reuse Component or Extension View**\n\nApplications can also configure refresh on back navigation when the navigation was triggered using smart link from the reuse component or an extension view.\n\nThe following sample code shows you a `stStart` function of a reuse component where extension API `setRefreshBehaviour` is used to refresh an entity set:\n\n> ### Sample Code:  \n> ```\n> stStart: function(oModel, oBindingContext, oExtensionAPI) {\n>             var oComponentModel = this.getComponentModel();\n>             var oBinding = oComponentModel.bindProperty(\"/state\");\n>             oBinding.attachChange(function(){\n>                 oExtensionAPI.onCustomStateChange();\n>                 this.setMessage();\n>             }.bind(this));\n>             this.adaptToBindingContext(oBindingContext);\n>             var oNavPopOverLink = this.getRootControl().getContent()[0].getContent()[7];\n>             var oNavigationController = oExtensionAPI.getNavigationController();\n>             oNavPopOverLink.setBeforeNavigationCallback(oNavigationController.setRefreshBehaviour.bind(null,\"EPMSalesOrder\"));\n>         },\n> \n> ```\n\n\n\n<a name=\"loio3c65f2cc630c472da8328a6f3c193683__section_sb4_tsp_brb\"/>\n\n## Additional Features in SAP Fiori Elements for OData V4\n\n\n\n### Overriding the Default Refresh Mechanism\n\nThe configuration is specified for each page and the most specific configuration, based on the external navigation that is performed, is considered. The following logic is applied:\n\n-   If there is a configuration specified for the exact semantic object-action that matches the external navigation, then this configuration is used.\n\n-   If no such configuration is found, but if there is a configuration for the same semantic object, then this is used.\n\n-   If this is also not found, then the default configuration of the page level is used \\(if defined\\).\n\n\nExamples of the applied logic are shown in the following sample code:\n\n> ### Sample Code:  \n> Manifest configuration for the refresh strategies in `sap-keep-alive` mode\n> \n> ```\n> {\n>     \"sap.ui5\": {\n>         \"routing\": {\n>             \"targets\": {\n>                 \"SalesOrderManageList\": {\n>                     \"type\": \"Component\",\n>                     \"id\": \"SalesOrderManageList\",\n>                     \"name\": \"sap.fe.templates.ListReport\",\n>                     \"options\": {\n>                         \"settings\": {\n>                             ...\n>                             \"refreshStrategyOnAppRestore\": {\n>                                 \"defaultBehavior\": {\n>                                     \"SalesOrderManage\": \"self\"\n>                                 }\n>                             }\n>                         }\n>                     }\n>                 },\n>                 \"SalesOrderManageObjectPage\": {\n>                     \"options\": {\n>                         \"settings\": {\n>                             ...\n>                             \"refreshStrategyOnAppRestore\": {\n>                                 \"intents\": {\n>                                     \"v4Freestyle\": { // This block is considered if the block above is NOT matched but the external navigation before we landed on this page only matches the Semantic Object specified here and NOT the action part\n>                                         \"SalesOrderItem\": \"includingDependents\" \n>                                     },\n>                                     \"v4Freestyle-Inbound\": { // This block is considered if the external navigation before we landed on this page matches exactly the Semantic Object-Action specified here\n>                                         \"SalesOrderItem\": \"includingDependents\"\n>                                     }\n>                                 },\n>                                 \"defaultBehavior\": { // This block is used if the external navigation before we landed on this page does NOT match the above blocks. This can happen for navigations where the Semantic Object is different from what is specified above.\n>                                     \"SalesOrderManage/_Item\": \"includingDependents\"\n>                                 }\n>                             }\n>                         }\n>                     }\n>                 }\n>             }\n>         }\n>     }\n> }\n> ```\n\n\n\n### Switching Off the Default Refresh Behavior During Chevron Navigation\n\nApplications can choose to switch off the default refresh behavior that happens when an external chevron navigation is triggered. To achieve this, keep an empty block within the manifest configuration as shown in the following sample code:\n\n> ### Sample Code:  \n> Switching off the default refresh behavior\n> \n> ```\n> \"refreshStrategyOnAppRestore\": {\n>     \"intents\": {\n>         \"v4Freestyle-Inbound\": {\n>             \"SalesOrderItem\": \"includingDependents\" // Due to this override, only SalesOrderItem and dependents are refreshed for V4FreeStyle-Inbound So-Action external navigation\n>         },\n>         \"v4Freestyle\": {} // Due to this override, for all other intents from V4FreeStyle SO other than Inbound, no refresh is done (including when going to such a target via chevron navigation which normally triggers a default refresh of the table)\n>     }  \n> }\n> ```\n\nThis does **not** affect the default refresh behavior of the table entity set when external navigation is triggered for a Create case.\n\n> ### Remember:  \n> -   The refresh mechanism explained earlier is **only** for refreshing the data seen on that page after navigating back from an external target. After the user navigates back from the external target, if the user then navigates forward via the standard internal navigation provided by SAP Fiori elements \\(for example, to a detail page\\), a data request is always sent to the back end – irrespective of the configuration given above. For back navigation within the app \\(internal navigation\\), the refresh is based on the refresh strategy for the page from where the external navigation was triggered.\n> \n> -   When specifying an entity set, application developers must note the following:\n> \n>     -   Begin with a forward slash \\(\"/\"\\) if the entity is a containment-based entity \\(a parameterized entity\\) and if you need to specify the full path of the resulting entity \\(\"/Customer/Set\"\\) in the same manner as specified via the `\"contextPath\"` manifest property. For more information, see the section [Supporting Parameterized Entities](configuring-filter-bars-4bd7590.md#loio4bd7590569c74c61a0124c6e370030f6__suppprting_parameterized_entities_subsection) in [Configuring Filter Bars](configuring-filter-bars-4bd7590.md).\n> \n>     -   If it is not a containment scenario/parameterized entity but a regular entity set, then the slash is not required at the beginning \\(`\"SalesOrderItem\"`\\).\n\n**Related Information**  \n\n\n[Refresh Data Set for Back Navigation when `sap-keep-alive` is Set to True](refresh-data-set-for-back-navigation-when-sap-keep-alive-is-set-to-true-f1c2704.md \"When sap-keep-alive is set to true, and the user navigates from one application to another, modifies some common data and navigates back to the source app, the data isn't refreshed automatically. You can add a custom code to perform a refresh of specific data.\")\n\n",
  "excerpt": "<!-- loio3c65f2cc630c472da8328a6f3c193683 --> Refresh Entity Sets in sap-keep-alive Mode sap-keep-alive is an SAP Fiori launchpad feature that ensures that a view is not destroyed in the view cache wh...",
  "wordCount": 1938,
  "version": "1.0.0",
  "source": "sapui5",
  "sourceType": "github"
}