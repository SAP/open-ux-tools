{
  "id": "sapui5-docs-02-read-me-first-upgrading-from-a-version-below-1-38-c1025c2-md",
  "title": "Upgrading from a Version Below 1.38",
  "category": "ui5-framework",
  "path": "docs/02_Read-Me-First/upgrading-from-a-version-below-1-38-c1025c2.md",
  "lastModified": "2025-09-01T18:17:10.439Z",
  "tags": [
    "ui5-framework",
    "md",
    "Upgrading",
    "from",
    "Version",
    "Below"
  ],
  "headers": [
    "Upgrading from a Version Below 1.38",
    "jQuery.Event",
    "Problem",
    "Solution",
    "jQuery.fn.position",
    "Problem",
    "Solution",
    "jQuery.now",
    "Problem",
    "Solution",
    ":visible selector",
    "Problem",
    "Solution",
    "jQuery.isPlainObject",
    "Problem",
    "Solution",
    "Descriptor for Applications, Components, and Libraries"
  ],
  "content": "<!-- loioc1025c2e30a748ae82e929cb7f6d2f9a -->\n\n# Upgrading from a Version Below 1.38\n\nWhen upgrading to the current SAPUI5 version from a version below 1.38 \\(released in June 2016\\), check whether the changes listed below influence your apps.\n\nWith this SAPUI5 version, jQuery has been upgraded to version 2.2.3.\n\nThis upgrade may impact your SAPUI5 apps. The following sections give an overview of our findings and how to deal with them.\n\n> ### Note:  \n> If you use additional open-source libraries that depend on jQuery, check whether they need to be upgraded as well.\n\n\n\n## jQuery.Event\n\n\n\n### Problem\n\njQuery removed some robustness checks in its event handling code. Without these checks, the `jQuery.trigger` function must only be called with events that either have no `originalEvent` property or where the `originalEvent` has all methods that `window.Event implements` \\(especially `preventDefault`, `stopPropagation` and `stopImmediatePropagation`\\).\n\nWhen a `jQuery.Event` is constructed with an object literal \\(`properties`\\) or when `originalEvent` is set to some object after construction, this constraint is not fulfilled. Unfortunately, many SAPUI5 unit tests used this approach to simulate mouse or key events.\n\n\n\n### Solution\n\nFor each code that creates events, you have to apply the following fix:\n\nThe module `QUnitUtils` now rewrites the `jQuery.Event` constructor so that any given object literal is enriched with the missing methods. Most SAPUI5 unit tests include the `QUnitUtils` module early, which then fixes the issue.\n\nApplication code that needs to simulate an event, either should omit the `originalEvent` or use `Event.create` to create a native event and only then create a `jQuery.Event`.\n\n\n\n## jQuery.fn.position\n\n\n\n### Problem\n\n`jQuery.fn.position` now takes the scroll positions of the parent element into account. This change was recoginzed as incompatible by the jQuery team and reverted with version 2.2.1.\n\n\n\n### Solution\n\nNothing, this is automatically fixed.\n\n\n\n## jQuery.now\n\n\n\n### Problem\n\n`jQuery.now` is now set to `Date.now` for all browsers. But as the jQuery property represents a separate reference to that function, it is not touched by code that modifies `Date.now`, especially not by Sinon fake timers. Therefore Sinon fake timers don't work with jQuery 2.2 if Sinon is started after `jQuery`.\n\n\n\n### Solution\n\nAs a workaround, `QUnitUtils` redefines `jQuery.now` so that it delegates to the current `Date.now`. This will then use any installed fake timer.\n\n\n\n## :visible selector\n\n\n\n### Problem\n\nSomewhere between jQuery 1.11.1 and 2.2.0, the behavior of the `:visible` selector has changed. For empty inline elements \\(for example, a `span` with no text\\), the selector now reports `:visible = true` whereas jQuery 1.1.1 reported it as `hidden`. There was only one functionality in the `sap.ui.dt` library where this change in behavior caused problems.\n\n\n\n### Solution\n\nInstead of using `:visible`, that functionality now uses its own implementation similar to jQuery 1.11.1.\n\n\n\n## jQuery.isPlainObject\n\n\n\n### Problem\n\njQuery 2.2.0 simplified the implementation of `jQuery.isPlainObject`. As a side-effect, objects with a `constructor` property with a non-function value \\(like a `string` value\\) caused a runtime error when `jQuery.isPlainObject` was applied.\n\n\n\n### Solution\n\nThis issue is fixed with jQuery 2.2.2.\n\n\n\n## Descriptor for Applications, Components, and Libraries\n\nIf you want to add new attributes of a descriptor version higher than V2 \\(SAPUI5 1.30\\) to your existing `manifest.json` file, see [Migration Information for Upgrading the Manifest File](../04_Essentials/migration-information-for-upgrading-the-manifest-file-a110f76.md).\n\n",
  "excerpt": "<!-- loioc1025c2e30a748ae82e929cb7f6d2f9a --> Upgrading from a Version Below 1.38 When upgrading to the current SAPUI5 version from a version below 1.38 \\(released in June 2016\\), check whether the ch...",
  "wordCount": 528,
  "version": "1.0.0",
  "source": "sapui5",
  "sourceType": "github"
}