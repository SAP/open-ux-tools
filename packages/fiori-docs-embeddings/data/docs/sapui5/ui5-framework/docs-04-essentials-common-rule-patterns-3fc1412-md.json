{
  "id": "sapui5-docs-04-essentials-common-rule-patterns-3fc1412-md",
  "title": "Common Rule Patterns",
  "category": "ui5-framework",
  "path": "docs/04_Essentials/common-rule-patterns-3fc1412.md",
  "lastModified": "2025-09-01T18:17:10.495Z",
  "tags": [
    "ui5-framework",
    "md",
    "Common",
    "Rule",
    "Patterns"
  ],
  "headers": [
    "Common Rule Patterns",
    "Rules for the Rendered HTML and the SAPUI5 Element Tree",
    "Rules for the Console Traces and Logging",
    "Recommendations for Writing CSS Rules",
    "Getting all loaded style sheets",
    "Getting a list of all custom CSS file paths",
    "Determining if a specific style sheet is in an `inline` or `external` file",
    "Determining if a specific CSS rule is applied on a node"
  ],
  "content": "<!-- loio3fc141206cee4ab2aa514b569ed423c0 -->\n\n# Common Rule Patterns\n\nThe Support Assistant checks verify different aspects of your web application - from the view/elements structure and control properties to the dynamic, data and event-driven interactions. You can traverse the DOM tree, look at error logs during startup or check the CSS.\n\n\n\n## Rules for the Rendered HTML and the SAPUI5 Element Tree\n\nWith these rules you can check how your application is rendered and how properties of the controls affect the rendering. Here is an example:\n\n```\nvar mElements = oScope.getElements();\nfor (var n in mElements) {\n  ...\n}\n\n```\n\n\n\n<a name=\"loio3fc141206cee4ab2aa514b569ed423c0__section_Rules_for_the_Console_Traces_and_Logging\"/>\n\n## Rules for the Console Traces and Logging\n\nRules that analyze the console trace allow you to react to dynamic events while the application is loading. They can help you catch common errors in the binding and bootstrapping of the application. One such rule \\(*Error Logs*\\) is already created and catches all the errors from the console.\n\nWith version 1.46, the logging API has been enhanced to allow additional objects to be added to logs produced by any module. An additional callback function in a log statement can provide such additional objects, which can be stored with the log entry.\n\nFor more information, see the [API Reference: `sap/base/log`](https://ui5.sap.com/#/api/module%3Asap%2Fbase%2FLog). \n\nHere is an example of how to log a warning with additional support information:\n\n```\n// \"Log\" required from module \"sap/base/Log\"\n\n// Pass additional support information for automatic use by support tooling when sap-ui-support=true is set\nLog.warning(\"Log this text\", function() {\n  //return additional object for further processing in support tooling\n  return {\n    type: \"sap.mylib.supportType\", //type can be used to filter the logs in support tooling\n    elementId: \"sap.mylib.Class or ID\" //can be given to narrow the scope of support tooling to a certain element ID, normally used as control ID.\n    mylogobject: {\n      context: \"Identify Context\"\n    }\n  }\n});\n```\n\n\n\n<a name=\"loio3fc141206cee4ab2aa514b569ed423c0__section_gjj_15l_l1b\"/>\n\n## Recommendations for Writing CSS Rules\n\nTo set custom design preferences, you need to overwrite or manipulate the CSS styling rules. However, this bears a risk because inappropriate changes in the standard styles might provoke rendering or representation issues.\n\nBelow, you can find examples of specific Support Assistant rules to check in such situations.\n\n\n\n### Getting all loaded style sheets\n\nTo get all loaded style sheets, you simply need to call the `document.styleSheets` method. This method returns a list of all inline and external CSS rules. You can further filter or search for a specific style depending on your needs.\n\n\n\n### Getting a list of all custom CSS file paths\n\nBy custom CSS files we mean all files and styles that are not included within a standard `library.css` file. Here is an example function that filters all loaded styles and returns only those specific file paths. Once you have a list of all custom CSS files, you can do your further analysis.\n\n```\n// \"Theming\" required from module \"sap/ui/core/Theming\"\ngetExternalStyleSheets: function() {\n  return Array.from(document.styleSheets).filter(function(styleSheet) {\n    var themeName = Theming.getTheme(),\n      styleSheetEnding = \"/themes/\" + themeName + \"/library.css\",\n      hasHref = !styleSheet.href || !styleSheet.href.endsWith(styleSheetEnding),\n      hasRules = !!styleSheet.rules;\n\n    return hasHref && hasRules;\n  });\n},\n\n```\n\n\n\n### Determining if a specific style sheet is in an `inline` or `external` file\n\nIf you iterate over `document.styleSheets` elements, you will see that each element has a property `href` containing the full path to the style sheet. If it's empty, it means that the style is `inline`. Here is an example function that returns the full path to a specific style sheet when loaded externally and `inline` if the applied style is added by a `<style>` tag:\n\n```\ngetStyleSheetName: function(styleSheet) {\n  return styleSheet.href || \"Inline\";\n},\n\n```\n\n\n\n### Determining if a specific CSS rule is applied on a node\n\nEach style sheet object contains a property called `rules`. This property is a `CSSRuleList` of all `CSSStyleRules` that are inside this style sheet. Each rule has its own property `selectorText` that contains a selector of a rule. To get all nodes that contain that selector, we can use `document.querySelectorAll(rule.selectorText)`. Here is a simple example where we get all rules and find all nodes that contain each rule selector:\n\n```\nArray.from(styleSheet.rules).forEach(function(rule) {\n  var selector = rule.selectorText,\n    matchedNodes = document.querySelectorAll(selector);\n});\n\n```\n\n",
  "excerpt": "<!-- loio3fc141206cee4ab2aa514b569ed423c0 --> Common Rule Patterns The Support Assistant checks verify different aspects of your web application - from the view/elements structure and control properti...",
  "wordCount": 690,
  "version": "1.0.0",
  "source": "sapui5",
  "sourceType": "github"
}