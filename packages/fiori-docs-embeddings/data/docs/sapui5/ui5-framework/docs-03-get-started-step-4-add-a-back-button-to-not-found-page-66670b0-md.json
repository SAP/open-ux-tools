{
  "id": "sapui5-docs-03-get-started-step-4-add-a-back-button-to-not-found-page-66670b0-md",
  "title": "Step 4: Add a *Back* Button to *Not Found* Page",
  "category": "ui5-framework",
  "path": "docs/03_Get-Started/step-4-add-a-back-button-to-not-found-page-66670b0.md",
  "lastModified": "2025-09-01T18:17:10.473Z",
  "tags": [
    "ui5-framework",
    "md",
    "Step",
    "Add",
    "Back",
    "Button",
    "Not",
    "Found",
    "Page"
  ],
  "headers": [
    "Step 4: Add a *Back* Button to *Not Found* Page",
    "Preview",
    "Coding",
    "webapp/view/NotFound.view.xml",
    "webapp/controller/BaseController.js \\(New\\)",
    "webapp/controller/NotFound.controller.js",
    "webapp/controller/App.controller.js",
    "webapp/controller/Home.controller.js",
    "Conventions"
  ],
  "content": "<!-- loio66670b0aab3948469d5cc8276113e9ea -->\n\n# Step 4: Add a *Back* Button to *Not Found* Page\n\nWhen we are on the *Not Found* page because of an invalid hash, we want to get back to our app to select another page. Therefore, we will add a *Back* button to the *Not Found* view and make sure that the user gets redirected to either the previous page or the overview page when the *Back* button is pressed.\n\n\n\n## Preview\n\n  \n  \n**Not Found page with Back button**\n\n![](images/Tutorial_Navigation_and_Routing_Step_04a_1cbb1eb.png \"Not Found page with Back\n\t\t\t\t\tbutton\")\n\n\n\n## Coding\n\nYou can view and download all files in the *Samples* in the Demo Kit at [Routing and Navigation - Step 4](https://ui5.sap.com/#/entity/sap.ui.core.tutorial.navigation/sample/sap.ui.core.tutorial.navigation.04).\n\n\n\n## webapp/view/NotFound.view.xml\n\n```xml\n<mvc:View\n\tcontrollerName=\"sap.ui.demo.nav.controller.NotFound\"\n\txmlns=\"sap.m\"\n\txmlns:mvc=\"sap.ui.core.mvc\">\n\t<MessagePage\n\t\ttitle=\"{i18n>NotFound}\"\n\t\ttext=\"{i18n>NotFound.text}\"\n\t\tdescription=\"{i18n>NotFound.description}\"\n\t\tshowNavButton=\"true\"\n\t\tnavButtonPress=\"onNavBack\"/>\n</mvc:View>\n```\n\nIn the `NotFound` view, we set the property `showNavButton` of the `MessagePage` control to `true` to automatically display the *Back* button. We also add an event handler function `onNavBack` to the `navButtonPress` event of the control. The `onNavBack` function will handle the actual back navigation. We could directly add this function to the view's controller. However, we are smart enough to anticipate that we might need the same handler function for different views. DRY \\(\"Don't Repeat Yourself\"\\) is the right approach for us, so let's create a `BaseController` from which all other controllers will inherit.\n\n\n\n## webapp/controller/BaseController.js \\(New\\)\n\n```js\nsap.ui.define([\n\t\"sap/ui/core/mvc/Controller\",\n\t\"sap/ui/core/routing/History\",\n\t\"sap/ui/core/UIComponent\"\n], function(Controller, History, UIComponent) {\n\t\"use strict\";\n\n\treturn Controller.extend(\"sap.ui.demo.nav.controller.BaseController\", {\n\n\t\tgetRouter : function () {\n\t\t\treturn UIComponent.getRouterFor(this);\n\t\t},\n\n\t\tonNavBack: function () {\n\t\t\tvar oHistory, sPreviousHash;\n\n\t\t\toHistory = History.getInstance();\n\t\t\tsPreviousHash = oHistory.getPreviousHash();\n\n\t\t\tif (sPreviousHash !== undefined) {\n\t\t\t\twindow.history.go(-1);\n\t\t\t} else {\n\t\t\t\tthis.getRouter().navTo(\"appHome\", {}, true /*no history*/);\n\t\t\t}\n\t\t}\n\n\t});\n\n});\n\n```\n\nCreate a new `BaseController.js` file in the `webapp/controller` folder. The base controller implements a set of functions that are reused by its subclasses. The `onNavBack` handler is a great example of code that we don't want to duplicate in our controllers for each page that has a back navigation.\n\nThe function checks if there is a previous hash value in the app history. If so, it redirects to the previous hash via the browser's native `History` API. In case there is no previous hash we simply use the router to navigate to the route `appHome` which is our home view.\n\nThe third parameter of `navTo(\"appHome\", {}, true /*no history*/);` has the value `true` and makes sure that the hash is replaced. With the line `sap.ui.core.UIComponent.getRouterFor(this)` you can easily access your component's router throughout the app. To make it even more comfortable, we also add a handy shortcut `getRouter` to the base controller. This function is now available in each subclass as well. It is also used in the `onNavBack` handler to get a reference to the router before calling `navTo`. We now have to implement the reuse in all other controllers.\n\n> ### Note:  \n> In SAPUI5 there are multiple options to reuse code. We recommend to use a base controller for such helper methods because this allows us to decoratively use the `onNavBack` handler directly in any XML view without adding additional code to the controller. Our base controller is an abstract controller that will not be instantiated in any view. Therefore, the naming convention `*.controller.js` does not apply, and we can just call the file `BaseController.js`. By not using the naming convention `*.controller.js` we can even prevent any usage in views.\n\n\n\n## webapp/controller/NotFound.controller.js\n\n```js\nsap.ui.define([\n\t\"sap/ui/demo/nav/controller/BaseController\"\n\n], function (BaseController) {\n\t\"use strict\";\n\treturn BaseController.extend(\"sap.ui.demo.nav.controller.NotFound\", {\n\t\tonInit: function () {\n\t\t}\n\t});\n});\n```\n\nIn order to reuse the base controller implementation, we have to change the dependency from `sap/ui/core/mvc/Controller` to `sap/ui/demo/nav/controller/BaseController` and directly extend the base controller.\n\nAt this point you can open `index.html#/thisIsInvalid` in your browser and press the *Back* button to see what happens. You will be redirected to the app's home page that is matched by the route `appHome` as you opened the *Not Found* page with an invalid hash. If you change the hash to something invalid when you are on the home page of the app, you will also go to the *Not Found* page but with a history entry. When you press back, you will get to the home page again, but this time with a native history navigation.\n\n\n\n## webapp/controller/App.controller.js\n\n```js\nsap.ui.define([\n\t\"sap/ui/demo/nav/controller/BaseController\"\n\n], function (BaseController) {\n\t\"use strict\";\n\treturn BaseController.extend(\"sap.ui.demo.nav.controller.App\", {\n\t\tonInit: function () {\n\t\t}\n\t});\n});\n```\n\nTo be consistent, we will now extend all of our controllers with the base controller. Change the app controller as described above.\n\n\n\n## webapp/controller/Home.controller.js\n\n```js\nsap.ui.define([\n\t\"sap/ui/demo/nav/controller/BaseController\"\n\n], function (BaseController) {\n\t\"use strict\";\n\treturn BaseController.extend(\"sap.ui.demo.nav.controller.Home\", {\n\t});\n});\n```\n\nThe same applies to our home controller, we also extend it with the base controller now.\n\n> ### Note:  \n> In this step we have added the *Back* button. The user can always use the browser's native *Back* button as well. Each app can freely configure the behavior of the *Back* button. However, there is no clean way to apply the same logic for the browser's *Back* button in single-page applications. Tweaking the browser history or using other quirks for cancelling backward or forward navigation is not recommended due to the implementation details of the browsers. The browser's *Back* button always uses the browser history while the *Back* button of the app can make use of the browser history **or** can implement its own navigation logic. Make sure to understand this difference and only control the *Back* button inside the app.\n\n\n\n## Conventions\n\n-   Implement a global `onNavBack` handler for back navigation in your app\n\n-   Query the history and go to the home page if there is no history available for the current app\n\n\n**Related Information**  \n\n\n[Routing and Navigation](../04_Essentials/routing-and-navigation-3d18f20.md \"SAPUI5 offers hash-based navigation, which allows you to build single-page apps where the navigation is done by changing the hash. In this way the browser does not have to reload the page; instead there is a callback to which the app and especially the affected view can react. A hash string is parsed and matched against patterns which will then inform the handlers.\")\n\n",
  "excerpt": "<!-- loio66670b0aab3948469d5cc8276113e9ea --> Step 4: Add a Back Button to Not Found Page When we are on the Not Found page because of an invalid hash, we want to get back to our app to select another...",
  "wordCount": 1012,
  "version": "1.0.0",
  "source": "sapui5",
  "sourceType": "github"
}