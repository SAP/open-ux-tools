{
  "id": "sapui5-docs-03-get-started-step-13-testing-user-interaction-19ccd47-md",
  "title": "Step 13: Testing User Interaction",
  "category": "ui5-framework",
  "path": "docs/03_Get-Started/step-13-testing-user-interaction-19ccd47.md",
  "lastModified": "2025-09-01T18:17:10.453Z",
  "tags": [
    "ui5-framework",
    "md",
    "Step",
    "Testing",
    "User",
    "Interaction"
  ],
  "headers": [
    "Step 13: Testing User Interaction",
    "Preview",
    "Coding",
    "webapp/test/integration/PostJourney.js",
    "webapp/test/integration/pages/Post.js",
    "Conventions"
  ],
  "content": "<!-- loio19ccd473c9a14c2ab7529303a2232d2c -->\n\n# Step 13: Testing User Interaction\n\nIn this step we want to write a test that simulates user interaction with an icon tab bar. We want to change the tab and check if the correct content is shown.\n\n\n\n## Preview\n\n  \n  \n**Test interacting with an icon tab bar**\n\n![](images/Tutorial_Testing_Step_13_c76a7b5.jpg \"Test interacting with an icon tab bar\")\n\n\n\n## Coding\n\nYou can view and download all files in the *Samples* in the Demo Kit at [Testing - Step 13](https://ui5.sap.com/#/entity/sap.m.tutorial.testing/sample/sap.m.tutorial.testing.13).\n\n\n\n## webapp/test/integration/PostJourney.js\n\n```js\nsap.ui.define([\n\t\"sap/ui/test/opaQunit\",\n\t\"./pages/Worklist\",\n\t\"./pages/Browser\",\n\t\"./pages/Post\"\n], function (opaTest) {\n\t\"use strict\";\n\n\t// â€¦\n\n\topaTest(\"Should be on the post page again when the browser's forward button is pressed\", function (Given, When, Then) {\n\t\t// Actions\n\t\t\tWhen.onTheBrowser.iPressOnTheForwardButton();\n\n\t\t// Assertions\n\t\tThen.onThePostPage.theTitleShouldDisplayTheName(\"Jeans\");\n\t});\n\n\topaTest(\"Should select the statistics tab\", function (Given, When, Then) {\n\t\t// Actions\n\t\tWhen.onThePostPage.iPressOnTheTabWithTheKey(\"statistics\");\n\t\t// Assertions\n\t\tThen.onThePostPage.iShouldSeeTheViewCounter()\n\t\t\t.and.iTeardownMyApp();\n\t});\n});\n```\n\nWe extend the `PostJourney.js` file with a new test. It is important to move the `Teardown` to the last test, otherwise our app would be removed and the test would not be able to find the *Statistics* tab.\n\nDelete `.and.iTeardownMyApp();` from the last test in the file and add the new test case\n\n\n\n## webapp/test/integration/pages/Post.js\n\n```js\nsap.ui.define([\n\t'sap/ui/test/Opa5',\n\t'sap/ui/test/matchers/Properties',\n\t'sap/ui/test/actions/Press'\n], function (Opa5, Properties, Press) {\n\t\"use strict\";\n \n\t\tvar sViewName = \"Post\";\n \n\t\tOpa5.createPageObjects({\n\t\t\tonThePostPage: {\n\t\t\t\tactions: {\n\t\t\t\t\tiPressTheBackButton: function () {\n\t\t\t\t\t\treturn this.waitFor({\n\t\t\t\t\t\t\tid: \"page\",\n\t\t\t\t\t\t\tviewName: sViewName,\n\t\t\t\t\t\t\tactions: new Press(),\n\t\t\t\t\t\t\terrorMessage: \"Did not find the nav button on object page\"\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tiPressOnTheTabWithTheKey: function (sKey) {\n\t\t\t\t\t\treturn this.waitFor({\n\t\t\t\t\t\t\tcontrolType: \"sap.m.IconTabFilter\",\n\t\t\t\t\t\t\tviewName : sViewName,\n\t\t\t\t\t\t\tmatchers: new Properties({\n\t\t\t\t\t\t\t\tkey: sKey\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tactions: new Press(),\n\t\t\t\t\t\t\terrorMessage: \"Cannot find the icon tab bar\"\n\t\t\t\t\t\t});\n \n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tassertions: {\n\t\t\t\t\ttheTitleShouldDisplayTheName: function (sName) {\n\t\t\t\t\t\treturn this.waitFor({\n\t\t\t\t\t\t\tid: \"objectHeader\",\n\t\t\t\t\t\t\tviewName: sViewName,\n\t\t\t\t\t\t\tmatchers: new Properties({\n\t\t\t\t\t\t\t\ttitle: sName\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tsuccess: function (oPage) {\n\t\t\t\t\t\t\t\tOpa5.assert.ok(true, \"was on the remembered detail page\");\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terrorMessage: \"The Post \" + sName + \" is not shown\"\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n \n\t\t\t\t\tiShouldSeeTheViewCounter: function () {\n\t\t\t\t\t\treturn this.waitFor({\n\t\t\t\t\t\t\tid: \"viewCounter\",\n\t\t\t\t\t\t\tviewName: sViewName,\n\t\t\t\t\t\t\tsuccess: function () {\n\t\t\t\t\t\t\t\tOpa5.assert.ok(true, \"The view counter was visible\");\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terrorMessage: \"The view counter could not be found\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n```\n\nTo change the selected tab, you set the selected key of the `sap.m.IconTabBar`. We have looked up the `setSelectedKey` function in the API documentation of the control, so we know that we can write a `waitFor` statement that makes use of it.\n\nThere is no uniform way of triggering user interactions with OPA. In most cases it is sufficient to use the API of the controls, e.g. setting a value. Note however, that calling the API methods of a control might not trigger the same events as when pressing the control.\n\nIn the `assert` part we add a new assertion for checking the visibility of a control with the ID `viewCounter`. Each `waitFor` statement checks if the control is rendered and visible unless you set `visible: false`. Therefore, we only use the `ok(true)` assertion in the success handler of the `waitFor` statement since QUnit expects at least one assertion for a test.\n\n\n\n## Conventions\n\n-   Actions in OPA never contain a QUnit assertion\n\n\n**Related Information**  \n\n\n[API Reference: `sap.m.IconTabBar`](https://ui5.sap.com/#/api/sap.m.IconTabBar)\n\n[API Overview and Samples: `sap.m.IconTabBar` ](https://ui5.sap.com/#/entity/sap.m.IconTabBar)\n\n",
  "excerpt": "<!-- loio19ccd473c9a14c2ab7529303a2232d2c --> Step 13: Testing User Interaction In this step we want to write a test that simulates user interaction with an icon tab bar. We want to change the tab and...",
  "wordCount": 527,
  "version": "1.0.0",
  "source": "sapui5",
  "sourceType": "github"
}