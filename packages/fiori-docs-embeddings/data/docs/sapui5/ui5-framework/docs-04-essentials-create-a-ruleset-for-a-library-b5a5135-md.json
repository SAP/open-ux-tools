{
  "id": "sapui5-docs-04-essentials-create-a-ruleset-for-a-library-b5a5135-md",
  "title": "Create a Ruleset for a Library",
  "category": "ui5-framework",
  "path": "docs/04_Essentials/create-a-ruleset-for-a-library-b5a5135.md",
  "lastModified": "2025-09-01T18:17:10.502Z",
  "tags": [
    "ui5-framework",
    "md",
    "Create",
    "Ruleset",
    "for",
    "Library"
  ],
  "headers": [
    "Create a Ruleset for a Library",
    "Choose Your Ruleset Location",
    "Add `.supportrc` file",
    "Add `SupportLib`",
    "Create Helper Functions \\(Optional\\)",
    "Split `library.support.js` \\(Optional\\)",
    "Example"
  ],
  "content": "<!-- loiob5a51358b3574aea9143fa50ae4e0e2a -->\n\n# Create a Ruleset for a Library\n\nThe Support Assistant allows you to create your own ruleset.\n\n\n\n<a name=\"loiob5a51358b3574aea9143fa50ae4e0e2a__section_lqs_mmh_vbb\"/>\n\n## Choose Your Ruleset Location\n\nA ruleset is a `library.support.js` file that defines an object `name` and `niceName` and returns a set of rules. Before you create a rule, you need to create a ruleset at a specific location. You can follow these steps as an example:\n\n1.  Open the respective library project. Let's say that your library is part of OpenUI5, open the project in `openui5([openui5.git]/src/sap.m/src/sap/m)`.\n\n2.  Create a JavaScript file with name `library.support.js` in the root folder where `library.js` is placed.\n\n3.  Add an extensions property in the `initLibrary()` function of the `library.js` file and there add `sap.ui.support` extension.\n\n    If your library contains public rules it will look like this:\n\n    ```\n    …\n    extensions: {\n        //Configuration used for rule loading of Support Assistant\n        \"sap.ui.support\": {\n          publicRules: true\n        }\n    …\n    \n    \n    ```\n\n4.  Create a folder to hold the rules. For example, if the library name is `sap.m`, the folder structure, if there isn't one already created, should be `src/sap/m/rules`.\n\n\nHere is an example of folder structure depending on the location of your ruleset:\n\n**Ruleset Folder Structure**\n\n\n<table>\n<tr>\n<th valign=\"top\">\n\nLocation\n\n</th>\n<th valign=\"top\">\n\nFolder Structure\n\n</th>\n</tr>\n<tr>\n<td valign=\"top\">\n\nOpenUI5 \n\n</td>\n<td valign=\"top\">\n\n\\[openui5.git\\]/src/sap.m/src/sap/m/\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\nReuse library\n\n</td>\n<td valign=\"top\">\n\n\\[project\\]/src/\\[library path\\]\n\n</td>\n</tr>\n</table>\n\n\n\n<a name=\"loiob5a51358b3574aea9143fa50ae4e0e2a__section_oq3_fbp_vcb\"/>\n\n## Add `.supportrc` file\n\nEach library should have a `.supportrc` file placed at its root folder. It is a simple JSON file specifying availability of public and internal rules per library. The `.supportrc` file defines whether to load ruleset files of the respective library. This reduces the number of redundant requests to load the respective ruleset library files.\n\nHere is an example of `.supportrc file`:\n\n```\n{\n  \"publicRules\": true,\n  \"internalRules\": true\n}\n\n```\n\n> ### Note:  \n> If a `.supportrc` file doesn't exist, a library is considered not to have any rulesets. Therefore, all ruleset developers should add a `.supportrc` file to their libraries root folders. Have in mind that if a ruleset property is missing, its value is considered to be false.\n\n\n\n<a name=\"loiob5a51358b3574aea9143fa50ae4e0e2a__section_ugb_whc_wbb\"/>\n\n## Add `SupportLib`\n\nOnce you choose the correct location for the `library.support.js`, the next step is to add the `SupportLib`. It provides a set of constants and enumerations you can use to define the rules inside the `library.support.js`. After creating your rules, return an object holding all of them and a `name/niceName` to specify their library.\n\nHere is an example of how to add and use the `SupportLib`:\n\n```js\nsap.ui.define([\"sap/ui/support/library\"],\n  function(SupportLib) {\n    \"use strict\";\n    var rule1 = {\n      ...\n      audiences: [SupportLib.Audiences.Control]\n      categories: [SupportLib.Categories.Usability]\n        ...\n      check: function(oIssueManager, ...) {\n        ...\n        oIssueManager.addIssue({\n          severity: SupportLib.Severity.Medium,\n          ...\n        });\n      }\n    };\n\n    var rule2 = {…};\n\n    return {\n      name: \"sap.ui.core\",\n      niceName: \"UI5 Core Library\",\n      ruleset: [\n        rule1,\n        rule2\n      ]\n    };\n  }, true);\n```\n\n\n\n<a name=\"loiob5a51358b3574aea9143fa50ae4e0e2a__section_knl_d3c_wbb\"/>\n\n## Create Helper Functions \\(Optional\\)\n\nWhen creating a more complex ruleset, you may need to create helper functions. It is recommended that those helper functions are separated into a different file that ends in `.support.js` and is located in the same folder as the ruleset.\n\n> ### Note:  \n> Helper files must be required by a relative path such as `./CoreHelper.js` so that when the Support Assistant is loaded from a different origin, the file will be required from the correct place.\n\n\n\n<a name=\"loiob5a51358b3574aea9143fa50ae4e0e2a__section_fxb_g3c_wbb\"/>\n\n## Split `library.support.js` \\(Optional\\)\n\nYou can also split a `library.support.js` into multiple files.\n\nWhen creating a ruleset for a bigger library, there may be too many rules and the ruleset will become very big. To avoid this, the rule definitions can be split into multiple files. For example, we might want to split the ruleset of the `sap.m` library by creating a file with rules for each control.\n\nIf the `library.support.js` contains rules for `sap.m.Button` and `sap.m.Label`, you can create `Button.support.js` and `Label.support.js` files. After that, the `library.support.js` can require all the rules from those files and create a ruleset.\n\nThis is an example of a `library.support.js` before the split:\n\n\n\n## Example\n\n```js\nsap.ui.define([\"sap/ui/support/library\"],\n  function(SupportLib) {\n    \"use strict\";\n    var buttonRule = {…};\n\n    var labelRule1 = {…};\n\n    var labelRule2 = {…};\n\n    return {\n      name: \"sap.ui.core\",\n      niceName: \"UI5 Core Library\",\n      ruleset: [\n        buttonRule,\n        labelRule1,\n        labelRule2\n      ]\n    };\n  }, true);\n```\n\nIn this example there are three rules - one for button and two for label. Splitting these rules to different files is done in the following way:\n\n1.  Create a `Button.support.js` and `Label.support.js` files.\n\n    `Button.support.js`:\n\n    ```js\n    sap.ui.define([\"sap/ui/support/library\"],\n      function(SupportLib) {\n        \"use strict\";\n        var buttonRule = {…};\n    \n        return buttonRule;\n      }, true);\n    \n    ```\n\n    `Label.support.js:`\n\n    ```js\n    sap.ui.define([\"sap/ui/support/library\"],\n      function(SupportLib) {\n        \"use strict\";\n        var labelRule1 = {…};\n    \n        var labelRule2 = {…};\n    \n        return [labelRule1, labelRule2];\n      }, true);\n    \n    ```\n\n    > ### Note:  \n    > You can return a single rule or an array of rules, as shown in the second example.\n\n2.  Require the newly created files in `library.support.js`:\n\n    ```js\n    sap.ui.define([\"sap/ui/support/library\",\n        \"./Button.support\", \"./Label.support\"\n      ],\n      function(SupportLib, ButtonSupport,\n        LabelSupport) {\n        \"use strict\";\n    \n        return {\n          name: \"sap.ui.core\",\n          niceName: \"UI5 Core Library\",\n          ruleset: [\n            ButtonSupport,\n            LabelSupport\n          ]\n        };\n      }, true);\n    ```\n\n    > ### Note:  \n    > The ruleset property is an array which can contain both rule objects and arrays of rules. In the example, `LabelSupport` returns an array of two rules.\n\n\n**Related Information**  \n\n\n[Create a Rule](create-a-rule-c24569d.md \"A rule consists of properties that test and advise on how possible issues can be resolved and a check function that tests the application for a specific issue. To create a rule, you need to set the properties and add a check function.\")\n\n",
  "excerpt": "<!-- loiob5a51358b3574aea9143fa50ae4e0e2a --> Create a Ruleset for a Library The Support Assistant allows you to create your own ruleset. <a name=\"loiob5a51358b3574aea9143fa50ae4e0e2a__section_lqs_mmh...",
  "wordCount": 918,
  "version": "1.0.0",
  "source": "sapui5",
  "sourceType": "github"
}