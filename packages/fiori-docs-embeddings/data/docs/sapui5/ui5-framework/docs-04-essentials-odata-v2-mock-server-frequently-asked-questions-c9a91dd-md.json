{
  "id": "sapui5-docs-04-essentials-odata-v2-mock-server-frequently-asked-questions-c9a91dd-md",
  "title": "OData V2 Mock Server: Frequently Asked Questions",
  "category": "ui5-framework",
  "path": "docs/04_Essentials/odata-v2-mock-server-frequently-asked-questions-c9a91dd.md",
  "lastModified": "2025-09-01T18:17:10.531Z",
  "tags": [
    "ui5-framework",
    "md",
    "OData",
    "Mock",
    "Server",
    "Frequently",
    "Asked",
    "Questions"
  ],
  "headers": [
    "OData V2 Mock Server: Frequently Asked Questions",
    "Is the mock server a real server?",
    "What module is needed?",
    "Can we use one mock server instance to mock multiple OData services?",
    "How to obtain metadata xml?",
    "How to obtain mock data? What options do I have for mock data?",
    "I'm using the OData model and I get the following error in the console: *The following problem occurred: no handler for data*",
    "What do I put in the `rootUri`?",
    "Can the mock server be used for more than for OData service simulation?",
    "Is OData navigation supported?",
    "How can I use the mock server in a QUnit?",
    "How can I provide exit functions as pre/post functions of requests?",
    "What do I need to do to run an OPA test with mock server"
  ],
  "content": "<!-- loioc9a91ddaef47461c9c44bfc2198ea3f0 -->\n\n# OData V2 Mock Server: Frequently Asked Questions\n\n\n\n## Is the mock server a real server?\n\nNo. The mock server runs on the client and only uses the server terminology of \"start\" and \"stop\". It does **not** require a network connection since there is no actual server involved.\n\n\n\n## What module is needed?\n\nThe mock server is contained in module `sap/ui/core/util/MockServer`. The module can either be added to the list of dependencies in a `sap.ui.define` call or it can be required with a call to `sap.ui.require`:\n\n```js\nsap.ui.define([…, \"sap/ui/core/util/MockServer\", …], function(…, MockServer, …) { \n    const oMyMockServer = new MockServer(…);\n});\n\nsap.ui.require([\"sap/ui/core/util/MockServer\"], function(MockServer) {\n    const oMyMockServer = new MockServer(…);\n});\n```\n\n\n\n## Can we use one mock server instance to mock multiple OData services?\n\nNo. Each OData service needs its own mock server. Create one `MockServer` instance per service.\n\n\n\n## How to obtain metadata xml?\n\nCall the metadata of the service in a browser and save it into a file.\n\n\n\n## How to obtain mock data? What options do I have for mock data?\n\nYou can let the mock server generate random mock data automatically based on services metadata. For this, provide only the path to the metadata file and omit the second parameter of the simulate function as follows:\n\n```js\n// url to the service metadata document \nconst sMetadataUrl = \"testdata/rmtsampleflight/metadata.xml\"; \noMockServer.simulate(sMetadataUrl);\n```\n\nYou can provide your own mock data in .json files, which can either be created manually or saved from an OData service response. Mock data in JSON format can be generated from an OData service by adding the `$format=json` parameter to the URL. Save the browser response which is called `<entity set name>.json`, for example `FlightCollection.json` and put it into the model folder. Add the path to the simulate function:\n\n```js\n// url to the service metadata document \nconst sMetadataUrl = \"testdata/rmtsampleflight/metadata.xml\";\n// base url which contains the mockdata\nconst sMockdataBaseUrl = \"testdata/rmtsampleflight/\";\noMockServer.simulate(sMetadataUrl, sMockdataBaseUrl);\n```\n\nYou can specify a path to .json mock data and let the mock server generate data for the rest of the service entities:\n\n```js\nconst sMetadataUrl = \"testdata/rmtsampleflight/metadata.xml\"; // url to the service metadata document\nconst sMockdataBaseUrl = \"testdata/rmtsampleflight/\"; // base url which contains the mockdata\noMockServer.simulate(sMetadataUrl, {\n    sMockdataBaseUrl: sMockdataBaseUrl,\n    bGenerateMissingMockData: true\n});\n```\n\nYou can specify the names of the entity sets that are needed, and the mock server will load data only for the specified service entities:\n\n```js\nconst sMetadataUrl = \"testdata/rmtsampleflight/metadata.xml\"; // url to the service metadata document\nconst sMockdataBaseUrl = \"testdata/rmtsampleflight/\"; // base url which contains the mockdata\noMockServer.simulate(sMetadataUrl, {\n    sMockdataBaseUrl: sMockdataBaseUrl,\n    bGenerateMissingMockData: true,\n    aEntitySetsNames: [\"EntitySetName1\", \" EntitySetName2\"]\n});\n```\n\n\n\n## I'm using the OData model and I get the following error in the console: *The following problem occurred: no handler for data*\n\nThe OData model uses JSON to fetch the data:\n\n```js\n// \"ODataModel\" required from module \"sap/ui/model/odata/v2/ODataModel\"\nconst oModel = new ODataModel(sUri, true);\n```\n\n\n\n## What do I put in the `rootUri`?\n\nVerify that you use the exact same URI prefix in the request as in the `rootUri` you define for the mock server. If a root URI is set, all request path URIs are prefixed with this root URI. The root URI has to be relative and requires a trailing \"/\". It also needs to match the URI set in OData/JSON models or simple XHR calls in order for the mock server to intercept them.\n\nThe code snippet shows an example:\n\n```js\nsap.ui.define([…, \n    \"sap/ui/core/util/MockServer\",\n    \"sap/ui/model/odata/v2/ODataModel\",\n    …\n], function(…, MockServer, ODataModel, …) {\n    const sUri = \"/mock/\";\n    const oMockServer = new MockServer({rootUri: sUri});\n    const oModel = new ODataModel(sUri, true);\n    …\n});\n```\n\n\n\n## Can the mock server be used for more than for OData service simulation?\n\nYes. The mock server can be used to help you fake server response on any given API and stub all AJAX access to resources such as OData service, metadata, annotation files \\(XML\\), other JSON or \\*.properties files.\n\n\n\n## Is OData navigation supported?\n\nThe mock server supports navigation via association also if no referential constraint is defined. However, the result of the navigation is the entire collection of the navigation, or the first entry of the collection according to the association multiplicity. So, if you want the navigation to return \"correct\" results according to keys, define a respective referential constraint.\n\n\n\n## How can I use the mock server in a QUnit?\n\nYou can set up the mock server in the setup function. For example:\n\n```js\nsap.ui.define([\"sap/ui/core/util/MockServer\"], function(MockServer) {\n    …\n        QUnit.module(\"OData data provider\", {\n            beforeEach() {\n                this._oMockServer = new MockServer({ rootUri: \"/model/\"});\n                this._oMockServer.simulate(\"../../../../qunit/service/metadata.xml\");\n                this._oMockServer.start();\n            },\n            afterEach() {\n                this._oMockServer.stop();\n            }\n        });\n    …\n});\n```\n\n\n\n## How can I provide exit functions as pre/post functions of requests?\n\nMock Server has APIs to provide more flexibility and control over its current request processing. During request processing, the callbacks are called before or after native handling of the Mock Server using the SAPUI5 eventing mechanism. You can add a callback in all requests of a specific HTTP method, for example in all `get` requests, but additionally also on a specific entity set name, for example, `POST` to `SaleOrders`\\).\n\n```js\n// add a callback in all requests of a specific http method\noMockServer.attachAfter(sap.ui.core.util.MockServer.HTTPMETHOD.GET, fnCbPost);\n```\n\n```js\n// on a specific entityset name\noMockServer.attachAfter(sap.ui.core.util.MockServer.HTTPMETHOD.GET, fnCbPost, \"CarrierCollection\");\n\n```\n\n```js\n// remove the callback\noMockServer.detachAfter(sap.ui.core.util.MockServer.HTTPMETHOD.GET, fnCbPost);\n```\n\nIf you add additional request handlers and want to use this hooks mechanism inside your response function, just call:\n\n```js\nthis.fireEvent(sap.ui.core.util.MockServer.HTTPMETHOD.GET + \"sEntityset\" + \":before\" , {oXhr: oXhr, sUrlParameters: sUrlParameters});\n```\n\n\n\n## What do I need to do to run an OPA test with mock server\n\nStart your app in mock mode. It is not possible to declare a mock server outside the app context.\n\n",
  "excerpt": "<!-- loioc9a91ddaef47461c9c44bfc2198ea3f0 --> OData V2 Mock Server: Frequently Asked Questions Is the mock server a real server? No. The mock server runs on the client and only uses the server termino...",
  "wordCount": 947,
  "version": "1.0.0",
  "source": "sapui5",
  "sourceType": "github"
}