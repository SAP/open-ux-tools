{
  "id": "sapui5-docs-04-essentials-test-libraries-for-opa5-a88a5e5-md",
  "title": "Test Libraries for OPA5",
  "category": "ui5-framework",
  "path": "docs/04_Essentials/test-libraries-for-opa5-a88a5e5.md",
  "lastModified": "2025-09-01T18:17:10.547Z",
  "tags": [
    "ui5-framework",
    "md",
    "Test",
    "Libraries",
    "for",
    "OPA5"
  ],
  "headers": [
    "Test Libraries for OPA5",
    "Consuming a Test Library",
    "Reusing Functionality",
    "Page Objects",
    "Page Object Utilities",
    "Global Configuration",
    "Creating a Test Library",
    "Exposing Functionality",
    "Page Objects",
    "Page Object Utilities",
    "Global Configuration"
  ],
  "content": "<!-- loioa88a5e5529e54b3aa703a0b2a36cf7be -->\n\n# Test Libraries for OPA5\n\nTest libraries are a means of collaboration between app developers and reusable content providers.\n\nAs of version 1.48, you can declare OPA5 test libraries to be used within your integration tests.\n\nThe main benefit is reduced test maintenance efforts and avoidance of code repetition. You can isolate generic actions and validations in a test library and reuse them across apps, for example, clicking search and back buttons, and validating table content. As a result, app tests are simplified and have compact page objects and short journeys. The test library provider is responsible for keeping it up to date with component changes, which significantly lowers maintenance costs.\n\n\n\n<a name=\"loioa88a5e5529e54b3aa703a0b2a36cf7be__section_trz_xnv_4bb\"/>\n\n## Consuming a Test Library\n\nThere are 3 simple steps to start using a test library:\n\n1.  Define the test library resource root in the QUnit start page.\n\n    For example, the app `my.application` has a dependency on the test library `my.awesome.testlibrary` and its test resources are built into the directory `test-resources`.\n\n    ```html\n    <script id=\"sap-ui-bootstrap\"\n        src=\"../../resources/sap-ui-core.js\"\n        data-sap-ui-resource-roots='{\n            \"my.application.test.integration\": \"./\",\n            \"my.awesome.testlibrary.integration.testLibrary\" : \"../../../test-resources/my/awesome/testlibrary/integration/testLibrary\"\n    \n        }'>\n    </script>\n    ```\n\n2.  Add the name of the library and its configuration object to the `testLibs` OPA5 configuration property:\n\n    ```\n    Opa5.extendConfig({\n        testLibs: {\n            myAwesomeTestLibrary: {\n                appId: \"my.application.appId\",\n                entitySet: \"MyExampleEntitySet\",\n                viewNamespace: \"my.application.mainView\"\n            }\n        }\n    ```\n\n3.  Require the test library modules in your test files:\n\n    ```js\n    sap.ui.require([\n        \"sap/ui/test/Opa5\",\n        \"my/awesome/testlibrary/integration/testLibrary/ExampleList/pages/ExampleList\"\n    ], function (Opa5, ExampleList) {\n        // you can now use ExampleList's actions and assertions\n        When.onTheTestLibraryPage.iDoThings();\n        Then.onTheTestLibraryPage.iCheckTheResult();\n    });\n    ```\n\n\n\n\n<a name=\"loioa88a5e5529e54b3aa703a0b2a36cf7be__section_xdl_ndb_4gb\"/>\n\n## Reusing Functionality\n\n\n\n### Page Objects\n\nYou can directly consume page objects defined by the test library. We recommend you follow the pattern described in [Structuring OPA Tests With Page Objects](structuring-opa-tests-with-page-objects-f2f843d.md).\n\nHere is an example, assuming that the page object `onTheListPage` is defined by a test library:\n\n```js\nThen.onTheListPage.iSearchForItem();\n```\n\n\n\n### Page Object Utilities\n\nIf a test library has exposed utilities, you can use them in your own page objects to simplify interaction with complex controls. There are two steps to start reusing utility functions:\n\n1.  Configure the test library:\n\n    ```js\n    Opa5.extendConfig({\n        testLibs: {\n            myAwesomeTestLibrary: {...}\n        }\n    });\n    ```\n\n2.  Load the test library before the page objects that will use it.\n\n    The utilities will be available on the page object instance under a property matching the name of the test library:\n\n    ```js\n    Opa5.createPageObjects({\n        onTheListPage: {\n            viewName: \"myTestView\",\n            actions: {\n                iSetTheFilter: function () {\n                    this.myAwesomeTestLibrary.iSelectItem();\n                    // trigger other interactions\n                }\n            }\n        }\n    });\n    \n    Then.onTheListPage.iSetTheFilter();\n    ```\n\n\n\n\n### Global Configuration\n\nGlobal statements set by a test library are defined and used in the same way as global statements set by a consumer.\n\nHere is an example, assuming that the action `iSetupTheApp` is added by a test library:\n\n```js\nGiven.iSetupTheApp();\n```\n\n\n\n<a name=\"loioa88a5e5529e54b3aa703a0b2a36cf7be__section_n53_ynv_4bb\"/>\n\n## Creating a Test Library\n\nThe test library consists of OPA5 statements written the same way as in a regular test. Users should be able to provide app-specific parameters, such as app ID, view names, control IDs, control labels and texts.\n\nThe test library can access the configuration provided by the consumer test in the following manner:\n\n```\nvar oConfiguration = Opa5.getTestLibConfig(\"myAwesomeTestLibrary\");\noConfiguration.appId === \"my.application.appId\" // true\n```\n\n\n\n<a name=\"loioa88a5e5529e54b3aa703a0b2a36cf7be__section_hjg_3gb_4gb\"/>\n\n## Exposing Functionality\n\nThere are several ways to expose functionality from a test library.\n\n\n\n### Page Objects\n\nWe recommend you use the page objects pattern described in [Structuring OPA Tests With Page Objects](structuring-opa-tests-with-page-objects-f2f843d.md). Page objects created by this pattern are automatically available for the app tests.\n\nUse this pattern for interactions that always involve a single page:\n\n```js\nOpa5.createPageObjects({\n    onTheListPage: {\n        viewName: \"myTestView\",\n        actions: {\n            iSearchForItem: function () {\n                // find a search field and enter some text\n            }\n        }\n    }\n});\n```\n\n\n\n### Page Object Utilities\n\nDefine utility functions when you need to expose functionality that will be used as a building block for user page objects. A utility function can be used by multiple page objects.\n\nA common use case is the interaction with a single control:\n\n```js\nOpa5.extendConfig({\n    testLibBase: {\n        myAwesomeTestLibrary: {\n            actions: {\n                iSelectItem: function: () {\n                    // choose item of a Select\n                }\n            }\n        }\n    }\n});\n```\n\n\n\n### Global Configuration\n\nExtending OPA5 configuration from within the test library has an effect on the app test as well. This means that you can also set global OPA5 test statements.\n\nUse this pattern when you need to expose functionality relevant to the entire app, such as setup and teardown:\n\n```js\nvar Common = Opa5.extend(\"testLibrary.pageObjects.Common\", {\n    iSetupTheApp: function () {\n        // do some setup actions\n    }\n});\nOpa5.extendConfig({\n    actions: new Common()\n});\n```\n\n**Related Information**  \n\n\n[Samples: `sap.ui.test.Opa5`](https://ui5.sap.com/#/entity/sap.ui.test.Opa5)\n\n",
  "excerpt": "<!-- loioa88a5e5529e54b3aa703a0b2a36cf7be --> Test Libraries for OPA5 Test libraries are a means of collaboration between app developers and reusable content providers. As of version 1.48, you can dec...",
  "wordCount": 747,
  "version": "1.0.0",
  "source": "sapui5",
  "sourceType": "github"
}