{
  "id": "sapui5-docs-09-developing-controls-how-to-enable-personalization-for-sapui5-controls-5f215c1-md",
  "title": "How to Enable Personalization for SAPUI5 Controls",
  "category": "ui5-framework",
  "path": "docs/09_Developing_Controls/how-to-enable-personalization-for-sapui5-controls-5f215c1.md",
  "lastModified": "2025-09-01T18:17:10.677Z",
  "tags": [
    "ui5-framework",
    "md",
    "How",
    "Enable",
    "Personalization",
    "for",
    "SAPUI5",
    "Controls"
  ],
  "headers": [
    "How to Enable Personalization for SAPUI5 Controls",
    "Providing the Change Handler",
    "Calling the Personalization API to Apply and Persist the Changes",
    "Personalization Without Variant Management",
    "Personalization With Variant Management"
  ],
  "content": "<!-- loio5f215c172f9644758cbb2b21c6c87926 -->\n\n# How to Enable Personalization for SAPUI5 Controls\n\nHere's how control developers can enable their controls for personalization by end users.\n\nPersonalization allows users without any special roles or permissions to make changes to controls. This personalization is applied on top of existing changes made with SAPUI5 flexibility by a developer or a key user.\n\nIn general, to enable personalization you need to ensure that the control provides the user interface and calls the APIs offered by SAPUI5 flexibility.\n\nAn example for a personalization UI is the *View Settings* dialog for a SmartTable. The user can change the visibility and the order of the columns and can personalize the sorting and filtering of the table's content.\n\nThe lifecycle of UI changes created with personalization depends on whether the corresponding control operates in the context of a `VariantManagement` control. For more information, see [Calling the Personalization API to Apply and Persist the Changes](how-to-enable-personalization-for-sapui5-controls-5f215c1.md#loio5f215c172f9644758cbb2b21c6c87926__section_fwf_mzt_qbc).\n\n\n\n<a name=\"loio5f215c172f9644758cbb2b21c6c87926__section_rcf_syt_qbc\"/>\n\n## Providing the Change Handler\n\nTo correctly set up change handlers for personalization, you need to register them in the `library.js` file. You need to define a new change handler for each change type. Set the `\"layers\"` property explicitly to `\"USER\": true`. If you want to use a default change handler, set the `\"changeHandler\"` property to `\"default\"`. Otherwise, provide the path to the custom change handler as shown below:\n\n> ### Sample Code:  \n> ```\n> extensions: {\n>     flChangeHandlers: {\n>         \"sap.ui.comp.smartform.Group\": {\n>             // with default change handler\n>             \"hideControl\": {\n>                 \"changeHandler\": \"default\",\n>                 \"layers\": {\n>                     \"USER\": true\n>                 }\n>             },\n>             // with custom change handler\n>             \"newChangeType\": {\n>                 \"changeHandler\": \"sap/ui/comp/smartform/flexibility/changeHandler/NewChangeHandler\",\n>                 \"layers\": {\n>                     \"USER\": true\n>                 }\n>             },\n>         },\n>         // ... other components ...\n>     },\n>     // ... other extensions ...\n> }\n> ```\n> ```\n\n\n\n<a name=\"loio5f215c172f9644758cbb2b21c6c87926__section_fwf_mzt_qbc\"/>\n\n## Calling the Personalization API to Apply and Persist the Changes\n\nThe `ControlPersonalizationWriteAPI` provides all the relevant actions that you need to handle personalization changes.\n\nTo ensure proper processing by the `ControlPersonalizationWriteAPI`, the `PersonalizationChange` must be structured as follows:\n\n-   `selectorElement`: Control to be used as the selector for the change\n-   `changeSpecificData`: Map of change-specific data to create a flex change\n-   `changeType`: Type of change for which a change handler is registered\n-   `content`: Content for the change\n-   `transient` \\(optional, default = false\\): Transient changes are not persisted\n\nFor more information about the change content, see [How to Enable Different Actions](how-to-enable-different-actions-41c6962.md).\n\nFor more detailed information, see the [API Reference: `ControlPersonalizationWriteApi`](https://ui5.sap.com/#/api/sap.ui.fl.write.api.ControlPersonalizationWriteAPI).\n\n\n\n### Personalization Without Variant Management\n\nFor personalization without variant management, the control must provide a user interface for saving and independently invoke the `ControlPersonalizationWriteApi.save` method.\n\n\n\n### Personalization With Variant Management\n\nIf you have a variant management control in your application and you want personalization changes to be saved with it, you need to link the variant management control to the control on which personalization is enabled.\n\nExample:\n\n> ### Sample Code:  \n> ```\n> <sap.ui.fl.variants:VariantManagement id=\"<VariantManagementId>\" for=\"<ControlId>\"/>\n> ```\n\n",
  "excerpt": "<!-- loio5f215c172f9644758cbb2b21c6c87926 --> How to Enable Personalization for SAPUI5 Controls Here's how control developers can enable their controls for personalization by end users. Personalizatio...",
  "wordCount": 502,
  "version": "1.0.0",
  "source": "sapui5",
  "sourceType": "github"
}