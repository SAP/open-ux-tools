{
  "id": "sapui5-placing-reuse-component-instances-on-the-object-page-1ba7f88-md",
  "title": "Placing Reuse Component Instances on the Object Page",
  "category": "fiori-elements-framework",
  "path": "placing-reuse-component-instances-on-the-object-page-1ba7f88.md",
  "lastModified": "2025-09-29T10:06:38.849Z",
  "tags": [
    "fiori-elements-framework",
    "md",
    "placing",
    "reuse",
    "component",
    "instances",
    "the",
    "object",
    "page",
    "1ba7f88"
  ],
  "headers": [
    "Placing Reuse Component Instances on the Object Page",
    "Additional Features in SAP Fiori Elements for OData V2",
    "Adding a Reuse Component as a Subsection to an Existing Section",
    "Grouping Reuse Components into a Single Section",
    "Hiding Reuse Components via API",
    "Refreshing Reuse Components",
    "Setting Section Title to the Control within Reuse Component",
    "Additional Features in SAP Fiori Elements for OData V4",
    "Adding a Reuse Component",
    "Hiding Reuse Components",
    "Refreshing Reuse Components"
  ],
  "content": "<!-- loio1ba7f888dbf04121a62965b664496616 -->\n\n# Placing Reuse Component Instances on the Object Page\n\nEach reuse component instance defined for an object page belonging to an SAP Fiori elements-based app is realized by a section.\n\n\n\n<a name=\"loio1ba7f888dbf04121a62965b664496616__section_k55_d1t_d4b\"/>\n\n## Additional Features in SAP Fiori Elements for OData V2\n\nEach reuse component instance defined for an object page belonging to an SAP Fiori elements-based app is realized by a section that contains a subsection which in turn contains the content of the reuse component.\n\nBy default, these sections are added to the end of the object page in the same order as the reuse component instances are defined in the manifest. You can use the Adaptation Editor to move these sections.\n\n\n\n### Adding a Reuse Component as a Subsection to an Existing Section\n\nYou can add a reuse component to any existing section as a final subsection, using the manifest property `\"leadingSectionIdOrPath\"` to link it with the desired section. In the annotations, collection facets are used with their IDs, and reference facets are used with their annotation paths. This means you need to provide either the ID or the path of the required facet as a value to this property. During templating, the reuse component is attached as a subsection to the section. See an example manifest below:\n\n> ### Sample Code:  \n> ```\n> \"embeddedComponents\": {\n>                     \"tableTest\": {\n>                         \"id\":\"tableTest\",\n>                         \"componentName\": \"STTA_MP.reuseComponents.tableTest\",\n>                         \"title\": \"{{SalesPriceReuse}}\",\n>                         \"leadingSectionIdOrPath\": \"GeneralInformation\",\n>                         \"settings\": {\n>                             \"navigationProperty\": \"to_ProductSalesPrice\"\n>                         }\n>                     }\n>                 }\n> ```\n\n\n\n### Grouping Reuse Components into a Single Section\n\nYou can group reuse components into a single section. Each reuse component has an ID. You can choose one to be the leading component, and the others can be grouped with it. See the example manifest below.\n\nUse the `\"groupTitle\"` property for the title of the grouped reuse components. If there is no title, use the existing title as the group \\(section\\) title. If the configuration is incorrect, for example, if a reuse component that has already been used, is used in a grouping, the fallback solution is to show it as a separate section.\n\n> ### Sample Code:  \n> ```\n> \"embeddedComponents\": {\n>                     \"stateTest\": {\n>                         \"id\": \"stateTest\",\n>                         \"componentUsage\": \"stateTest\",\n>                         \"title\": \"{{stateReuse}}\",\n>                         \"groupTitle\":\"{{reuseGroupTitle}}\"\n>                     },\n>                     \"situationsTest\": {\n>                         \"id\": \"situationsTest\",\n>                         \"componentName\": \"STTA_MP.reuseComponents.situationsTest\",\n>                         \"title\": \"{{situationsReuse}}\",\n>                         \"settings\": {\n>                             \"productKey\": \"{ProductForEdit}\"\n>                         },\n>                         \"leadingSectionIdOrPath\": \"stateTest\",\n>                     }\n>                 }\n> ```\n\nReuse components grouped into a subsection in a existing section can be moved within the section, using the Adaptation Editor. You can move all reuse components grouped together as a single section within the section.\n\n\n\n### Hiding Reuse Components via API\n\nYou can use the extension API `SetSectionHidden` to hide reuse components. Use this API to hide only reuse components, not to hide other sections.\n\n`sap.suite.ui.generic.template.ObjectPage.extensionAPI.ExtensionAPI.SetSectionHidden` accepts only one Boolean argument, either `\"true\"` or `\"false\"`.\n\nCall this API in the component.js of the reusable components.\n\n> ### Sample Code:  \n> ```\n> function fnRegisterOnPageDataLoaded(oExtensionAPI){\n>         oExtensionAPI.attachPageDataLoaded(function(oEvent){\n>             var oContextData = oEvent.context.getObject();\n>             (oExtensionAPI.setSectionHidden || jQuery.noop)(oContextData.ProductCategory !== \"Notebooks\"); \n>         });\n>     }\n> ```\n\n\n\n### Refreshing Reuse Components\n\nReuse components expose a `stRefresh` function which is called by the SAP Fiori elements framework to refresh the component. You can trigger it using the manifest property `stRefreshTrigger`.\n\nFor example, if the reuse component is to react to the value change of more than one property, such as a price change, then annotate a side effect and add the target property`PriceTrigger`, as shown in the sample below.\n\nThis can also be achieved via a function import, by annotating a side effect against a function import.\n\n> ### Sample Code:  \n> Trigger refresh when changing the value of a property\n> \n> ```\n> \"embeddedComponents\": {        \n>           \"priceComponentEmbedding\": {         \n>              \"id\": \"priceComponentEmbedding\",         \n>              \"componentUsage\": \"priceComponentUsage\",         \n>              \"title\": \"{{I18N_KEY_FOR_PRICE_COMPONENT_TITLE}}\",\n>              \"settings\": {\n>                   \"stRefreshTrigger\": \"{Price}\"\n>              }                 \n>        },        \n> \n> ```\n\n> ### Sample Code:  \n> Trigger refresh when changing the values of one of the properties\n> \n> ```\n> \"embeddedComponents\": {        \n>           \"priceComponentEmbedding\": {         \n>              \"id\": \"priceComponentEmbedding\",         \n>              \"componentUsage\": \"priceComponentUsage\",         \n>              \"title\": \"{{I18N_KEY_FOR_PRICE_COMPONENT_TITLE}}\",\n>              \"settings\": {\n>                   \"stRefreshTrigger\": \"{Price}{Supplier}\"\n>              }                 \n>        },        \n> \n> ```\n\n> ### Sample Code:  \n> Trigger refresh when changing the values of a combination of properties\n> \n> ```\n> \"embeddedComponents\": {        \n>           \"priceComponentEmbedding\": {         \n>              \"id\": \"priceComponentEmbedding\",         \n>              \"componentUsage\": \"priceComponentUsage\",         \n>              \"title\": \"{{I18N_KEY_FOR_PRICE_COMPONENT_TITLE}}\",\n>              \"settings\": {\n>                   \"stRefreshTrigger\": \"{= ${Price}+${Supplier}}\"\n>              }                 \n>        },        \n> \n> ```\n\n\n\n### Setting Section Title to the Control within Reuse Component\n\nYou can use the `setAsTitleOwner` extension API to hide the title of the section or subsection. This API replaces the title of the required control with the section or subsection title.\n\n**Scenario 1: Reuse component contains a table or chart** \n\n-   Define the `initialise` method of a table or chart in the reuse component\n\n    > ### Sample Code:  \n    > ```\n    > <st:SmartTable id=\"SalesPriceFacetID\" initialise=\"SalesPriceInitialise\"/>\n    > ```\n\n-   Define the same event in the controller and call the `setAsTitleOwner` extension API with the parameter `SmartTable` or `SmartChart`\n\n    > ### Sample Code:  \n    > ```\n    > SalesPriceInitialise: function(oEvent) {\n    > \tvar oSmartTable = oEvent.getSource();\n    > \tvar oExtensionAPI = extensionAPI.getExtensionAPI(oSmartTable);\n    > \toExtensionAPI.setAsTitleOwner(oSmartTable);\n    > \n    > }\n    > ```\n\n\n**Scenario 2: Reuse component with other controls** \n\nYou must call the `setAsTitleOwner` extension API with the control as the parameter, during the `onInit` event of the controller. This allows you to hide the title of the section or subsection containing the reuse component, and merge it with the title of the control.\n\n> ### Note:  \n> The control must have a header or text property\n\nFor more information, see [Adding Titles to Object Page Tables](adding-titles-to-object-page-tables-d9a4539.md).\n\n\n\n<a name=\"loio1ba7f888dbf04121a62965b664496616__section_i1j_2bt_d4b\"/>\n\n## Additional Features in SAP Fiori Elements for OData V4\n\nEach reuse component instance defined for an object page belonging to an SAP Fiori elements-based app is realized by a section that contains a custom subsection which in turn contains the content of the reuse component.\n\nThese sections, like any other custom sections, can be placed as described in the topic [Extension Points for Sections on the Object Page](extension-points-for-sections-on-the-object-page-92ad996.md).\n\n\n\n### Adding a Reuse Component\n\nYou place reuse components into empty custom subsections using the SAPUI5 routing and the control ID of the subsection. This is possible either in an existing section, or as a new custom section. The reuse component itself is then included as a separate target in your SAPUI5 routing and its name has to be added as another target in the route to your object page.\n\n\n<table>\n<tr>\n<th valign=\"top\">\n\nProperty\n\n</th>\n<th valign=\"top\">\n\nValue\n\n</th>\n</tr>\n<tr>\n<td valign=\"top\">\n\ntype\n\n</td>\n<td valign=\"top\">\n\ncomponent\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\ncontrolAggregation\n\n</td>\n<td valign=\"top\">\n\nblocks\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\nclearControlAggregation\n\n</td>\n<td valign=\"top\">\n\ntrue\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\nname\n\n</td>\n<td valign=\"top\">\n\npath to your reuse component\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\nparent\n\n</td>\n<td valign=\"top\">\n\nname of your object page\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\ncontrolID\n\n</td>\n<td valign=\"top\">\n\nID of your custom subsection\n\n</td>\n</tr>\n<tr>\n<td valign=\"top\">\n\noptions \\> settings\n\n</td>\n<td valign=\"top\">\n\nany settings of your reuse component\n\n</td>\n</tr>\n</table>\n\nIn the example below, two reuse components are added to the same object page: one to an existing section \\(`mySection`\\) and one as a new section.\n\n> ### Sample Code:  \n> ```\n> \n> { \n>    \"sap.ui5\": { \n>       \"routing\": { \n>          \"routes\": [ \n>             { \n>                \"pattern\": \"myEntitySet({key}):?query:\", \n>                \"name\": \"myObjectPage\", \n>                \"target\": [\"myObjectPage\", \"ReuseComponent\", \"ReuseComponent2\"] \n>             } \n>          ], \n>          \"targets\": { \n>             \"myObjectPage\": { \n>                \"type\": \"Component\", \n>                \"id\": \"myObjectPage\", \n>                \"name\": \"sap.fe.templates.ObjectPage\", \n>                \"options\": { \n>                   \"settings\": { \n>                      \"content\": { \n>                         \"body\": { \n>                            \"sections\": { \n>                               \"mySection\": { \n>                                  \"subSections\": { \n>                                     \"ReuseContainer\": { \n>                                        \"title\": \"{i18n>reuseTitle}\", \n>                                        \"controlId\": \"firstReuseContainer\", \n>                                        \"position\": { \n>                                           \"placement\": \"After\", \n>                                           \"anchor\": \"someSubSection\" \n>                                        } \n>                                     } \n>                                  } \n>                               }, \n>                               \"ReuseComponentContainer\": { \n>                                  \"position\": { \n>                                     \"placement\": \"Before\", \n>                                     \"anchor\": \"mySubSection\" \n>                                  }, \n>                                  \"title\": \"Reuse Container\", \n>                                  \"subSections\": { \n>                                     \"ReuseContainer\": { \n>                                        \"controlId\": \"secondReuseContainer\" \n>                                     } \n>                                  } \n>                               } \n>                            } \n>                         } \n>                      } \n>                   } \n>                } \n>             }, \n>             \"ReuseComponent\": { \n>                \"type\": \"Component\", \n>                \"id\": \"Reuse\", \n>                \"name\": \"path/to/reuseComponent\", \n>                \"options\": { \n>                   \"settings\": { \n>                      \"exampleSettings\": \"{somePropertyName}\" \n>                   } \n>                }, \n>                \"parent\": \"myObjectPage\", \n>                \"controlId\": \"firstReuseContainer\", \n>                \"controlAggregation\": \"blocks\", \n>                \"clearControlAggregation\": true \n>             }, \n>             \"ReuseComponent2\": { \n>                \"type\": \"Component\", \n>                \"id\": \"Reuse2\", \n>                \"name\": \"path/to/reuseComponent2\", \n>                \"options\": { \n>                   \"settings\": { \n>                      \"exampleSettings\": \"{somePropertyName}\" \n>                   } \n>                }, \n>                \"parent\": \"myObjectPage\", \n>                \"controlId\": \"secondReuseContainer\", \n>                \"controlAggregation\": \"blocks\", \n>                \"clearControlAggregation\": true \n>             } \n>          } \n>       } \n>    } \n> } \n> \n> ```\n\nFor more information, see [Adding a Custom Section to an Object Page](adding-a-custom-section-to-an-object-page-a357047.md).\n\n\n\n### Hiding Reuse Components\n\nA reuse component is bound to the subsection it is placed in. To hide a reuse component, the corresponding subsection must be hidden as described in the topic [Extension Points for Subsections on the Object Page](extension-points-for-subsections-on-the-object-page-ce8d468.md).\n\n\n\n### Refreshing Reuse Components\n\nA reuse component refreshes itself, based on its exposed properties. If a certain component property is changed due to a page change, then the component must react in the corresponding setter method of this property.\n\n",
  "excerpt": "<!-- loio1ba7f888dbf04121a62965b664496616 --> Placing Reuse Component Instances on the Object Page Each reuse component instance defined for an object page belonging to an SAP Fiori elements-based app...",
  "wordCount": 1539,
  "version": "1.0.0",
  "source": "sapui5",
  "sourceType": "github"
}